(()=>{var e={};e.id=4484,e.ids=[4484],e.modules={92509:e=>{"use strict";e.exports=require("firebase-admin")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},78893:e=>{"use strict";e.exports=require("buffer")},84770:e=>{"use strict";e.exports=require("crypto")},80665:e=>{"use strict";e.exports=require("dns")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},32694:e=>{"use strict";e.exports=require("http2")},98216:e=>{"use strict";e.exports=require("net")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},35816:e=>{"use strict";e.exports=require("process")},76162:e=>{"use strict";e.exports=require("stream")},82452:e=>{"use strict";e.exports=require("tls")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},3263:e=>{"use strict";e.exports=import("firebase-admin/app")},72929:e=>{"use strict";e.exports=import("firebase-admin/firestore")},68116:e=>{"use strict";e.exports=import("firebase-admin/storage")},91786:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>n.a,__next_app__:()=>u,originalPathname:()=>p,pages:()=>d,routeModule:()=>m,tree:()=>c}),t(26491),t(48262),t(14205),t(12523);var a=t(23191),r=t(88716),i=t(37922),n=t.n(i),l=t(95231),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);t.d(s,o);let c=["",{children:["payment",{children:["approval",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,26491)),"/home/user/corabO/src/app/payment/approval/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,48262)),"/home/user/corabO/src/app/payment/layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,14205)),"/home/user/corabO/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.bind(t,12523)),"/home/user/corabO/src/app/not-found.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["/home/user/corabO/src/app/payment/approval/page.tsx"],p="/payment/approval/page",u={require:t,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/payment/approval/page",pathname:"/payment/approval",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},38876:(e,s,t)=>{Promise.resolve().then(t.bind(t,53211))},35303:()=>{},15188:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(62881).Z)("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]])},30361:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(62881).Z)("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},43810:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(62881).Z)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]])},83495:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(62881).Z)("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]])},50949:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(62881).Z)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},53211:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>g});var a=t(10326),r=t(17577),i=t(35047),n=t(13511),l=t(91664),o=t(29752),c=t(77506),d=t(15188),p=t(30361),u=t(50949),m=t(33734),x=t(83495),h=t(43810),f=t(3594),j=t(84097);t(6708),t(76);var b=t(11604);function y(){let e=(0,i.useRouter)(),s=(0,i.useSearchParams)(),{currentUser:t,users:y}=(0,n.a)(),{toast:g}=(0,j.pm)(),[v,N]=(0,r.useState)(null),[w,P]=(0,r.useState)(null),[q,k]=(0,r.useState)(!0),C=s?.get("sessionId"),Z=async()=>{if(!C||!v||!v.profileSetupData?.paymentDetails?.mobile)return;let e=36.5*(w?.initialPayment||w?.amount||0),{bankName:s,mobilePaymentPhone:t}=v.profileSetupData.paymentDetails.mobile,a=v.idNumber,r=`Pago M\xf3vil
Banco: ${s}
Tel\xe9fono: ${t}
C\xe9dula/RIF: ${a}
Monto: ${e.toFixed(2)}`;navigator.clipboard.writeText(r),g({title:"Datos de Pago Copiados",description:"Realiza el pago desde tu app bancaria."}),await (0,b.qP)(C)},M=async()=>{C&&(await (0,b.CR)(C),e.back())};return a.jsx("div",{className:"min-h-screen bg-muted/40 flex items-center justify-center p-4",children:a.jsx(o.Zb,{className:"w-full max-w-sm shadow-2xl",children:(()=>{if(q||!w||!v)return(0,a.jsxs)("div",{className:"text-center space-y-4",children:[a.jsx(c.Z,{className:"h-12 w-12 mx-auto animate-spin text-primary"}),a.jsx("p",{className:"font-semibold",children:"Esperando monto del proveedor..."}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Mant\xe9n esta pantalla abierta."})]});if("awaitingPayment"===w.status)return(0,a.jsxs)("div",{className:"text-center space-y-4",children:[a.jsx(d.Z,{className:"h-12 w-12 mx-auto text-blue-500"}),a.jsx("p",{className:"font-semibold",children:"Esperando Confirmaci\xf3n del Pago"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Ya puedes cerrar esta pantalla. Recibir\xe1s una notificaci\xf3n cuando el proveedor confirme la transacci\xf3n."}),a.jsx(l.z,{onClick:()=>e.push("/"),children:"Volver al Inicio"})]});if("pendingVoucherUpload"===w.status)return(0,a.jsxs)("div",{className:"text-center space-y-4",children:[a.jsx(p.Z,{className:"h-12 w-12 mx-auto text-green-500"}),a.jsx("p",{className:"font-semibold",children:"Pago Aprobado"}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Esperando que $",v.name," confirme la transacci\xf3n y cargue la factura."]})]});if("cancelled"===w.status)return(0,a.jsxs)("div",{className:"text-center space-y-4",children:[a.jsx(u.Z,{className:"h-12 w-12 mx-auto text-destructive"}),a.jsx("p",{className:"font-semibold",children:"Sesi\xf3n Cancelada"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"La sesi\xf3n de pago ha sido cancelada."}),a.jsx(l.z,{onClick:()=>e.push("/"),children:"Volver al Inicio"})]});if("pendingClientApproval"===w.status){let{amount:e=0,initialPayment:s=0,financedAmount:t=0,installments:r=0}=w,i=v.profileSetupData?.paymentDetails?.mobile,n=t>0,c=n?s:e;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(o.Ol,{children:[(0,a.jsxs)(f.qE,{className:"w-16 h-16 mx-auto mb-4 border-2 border-primary",children:[a.jsx(f.F$,{src:v.profileImage}),a.jsx(f.Q5,{children:v.name.charAt(0)})]}),(0,a.jsxs)(o.ll,{className:"text-center",children:["Confirmar Pago a $",v.name]}),a.jsx(o.SZ,{className:"text-center",children:n?"Tu compra ser\xe1 financiada con Credicora.":"Realiza el pago y espera la confirmaci\xf3n del proveedor."})]}),(0,a.jsxs)(o.aY,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Total de la Compra"}),(0,a.jsxs)("p",{className:"text-5xl font-bold tracking-tighter",children:["$",e.toFixed(2)]})]}),n&&(0,a.jsxs)("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg text-sm text-blue-900 space-y-2",children:[(0,a.jsxs)("div",{className:"font-bold text-center flex items-center justify-center gap-2",children:[a.jsx(m.Z,{className:"w-5 h-5 fill-current"})," Desglose Credicora"]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Pagas hoy (Inicial):"})," ",(0,a.jsxs)("span",{className:"font-bold",children:["$",s.toFixed(2)]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Monto financiado:"})," ",(0,a.jsxs)("span",{className:"font-bold",children:["$",t.toFixed(2)]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Pr\xf3ximos pagos:"})," ",(0,a.jsxs)("span",{className:"font-bold",children:["$",r," cuotas"]})]})]}),i?.active&&(0,a.jsxs)("div",{className:"p-4 bg-muted rounded-lg border text-sm space-y-1",children:[(0,a.jsxs)("p",{className:"font-semibold flex items-center gap-2 mb-2",children:[a.jsx(x.Z,{className:"w-4 h-4"})," Realiza un Pago M\xf3vil por la inicial:"]}),(0,a.jsxs)("div",{className:"flex justify-between mt-1",children:[a.jsx("span",{children:"Banco:"}),a.jsx("span",{className:"font-mono",children:i.bankName})]}),(0,a.jsxs)("div",{className:"flex justify-between mt-1",children:[a.jsx("span",{children:"Tel\xe9fono:"}),a.jsx("span",{className:"font-mono",children:i.mobilePaymentPhone})]}),(0,a.jsxs)("div",{className:"flex justify-between mt-1",children:[a.jsx("span",{children:"C\xe9dula/RIF:"}),a.jsx("span",{className:"font-mono",children:v.idNumber})]}),(0,a.jsxs)("div",{className:"flex justify-between mt-1 font-bold",children:[a.jsx("span",{children:"Monto:"}),(0,a.jsxs)("span",{className:"font-mono",children:["BS. $",(36.5*c).toFixed(2)]})]})]})]}),(0,a.jsxs)("div",{className:"p-6 pt-0 grid grid-cols-2 gap-4",children:[a.jsx(l.z,{variant:"outline",onClick:M,children:"Cancelar"}),(0,a.jsxs)(l.z,{onClick:Z,disabled:!i?.active,children:[a.jsx(h.Z,{className:"mr-2 h-4 w-4"}),"Copiar y Pagar"]})]})]})}})()})})}function g(){return a.jsx(r.Suspense,{fallback:a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:a.jsx(c.Z,{className:"w-8 h-8 animate-spin"})}),children:a.jsx(y,{})})}},26491:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>a});let a=(0,t(68570).createProxy)(String.raw`/home/user/corabO/src/app/payment/approval/page.tsx#default`)},48262:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>i,metadata:()=>r});var a=t(19510);let r={title:"Registrar Pago - Corabo",description:"Confirma el pago de tu suscripci\xf3n o servicio."};function i({children:e}){return a.jsx("div",{className:"bg-muted/40 min-h-screen",children:e})}}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[8948,8786,8465,2687,2784],()=>t(91786));module.exports=a})();