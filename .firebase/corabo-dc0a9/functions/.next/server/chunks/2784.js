exports.id=2784,exports.ids=[2784],exports.modules={73529:(e,a,b)=>{let d={"0fcca1ef621d98be26c0bfcf3d0536b2eafaf90b":()=>Promise.resolve().then(b.bind(b,67500)).then(e=>e.createSessionCookie),"75f66e5bfcc5802b933cf6bb3a81d2e6fb71f193":()=>Promise.resolve().then(b.bind(b,67500)).then(e=>e.signInAsGuest),"92acb34382b7cc06f4de5ac34a55db761fb52098":()=>Promise.resolve().then(b.bind(b,67500)).then(e=>e.clearSessionCookie),d3324d6c83f3a3db02622507b4b401ba56959940:()=>Promise.resolve().then(b.bind(b,67500)).then(e=>e.getOrCreateUser),"453545b1b78662b98891491ec49e72197e0e6598":()=>Promise.resolve().then(b.bind(b,70848)).then(e=>e.addContactToUser),"5490e0fd1c242a5eef82e0a3ff2c7cb530d9e533":()=>Promise.resolve().then(b.bind(b,70848)).then(e=>e.updateUser),"6a3ff619f9bdd51def8f22d0234148dfd9e9330e":()=>Promise.resolve().then(b.bind(b,70848)).then(e=>e.becomeProvider),"7f3879fcde338c8e9e9f8b6e19e6e4358bb243bd":()=>Promise.resolve().then(b.bind(b,70848)).then(e=>e.removeContactFromUser),"86ad7b8d8be30d4d4c2808f5bbf0e5d8e49ba32a":()=>Promise.resolve().then(b.bind(b,70848)).then(e=>e.updateFullProfile),"88599a77cbf14a811bcc0d4db954c292e07a6abc":()=>Promise.resolve().then(b.bind(b,70848)).then(e=>e.updateUserProfileImage),"9011e4229b8124357687ad18fd8d6620369c6645":()=>Promise.resolve().then(b.bind(b,70848)).then(e=>e.checkIdUniqueness),"9dbd3aa17f1b0d765a1019942ecab992f84521ef":()=>Promise.resolve().then(b.bind(b,70848)).then(e=>e.subscribeUser),b6340bdf49ffb4d7a7d472365ccd4c5bb696fb65:()=>Promise.resolve().then(b.bind(b,70848)).then(e=>e.completeInitialSetup),d3b29fd6112ff6850dece7a05d126c764332b184:()=>Promise.resolve().then(b.bind(b,70848)).then(e=>e.toggleGps),e86019e14c4860bd9cb7e35ea4e6b273f001c319:()=>Promise.resolve().then(b.bind(b,70848)).then(e=>e.deactivateTransactions),f1a5672380f0c97ae05054afe728fa52f5b897d1:()=>Promise.resolve().then(b.bind(b,70848)).then(e=>e.activatePromotion),f2adee7cf4f2f8b5b2ceee6347d65222ab445eb7:()=>Promise.resolve().then(b.bind(b,70848)).then(e=>e.updateUserLocation),"0cc468c9ec8056445c64fbc57ca071d6ae3aea6e":()=>Promise.resolve().then(b.bind(b,46476)).then(e=>e.setQrSessionAmount),"3092aa836369a6fcbeab8cbd1a0770080dd6f169":()=>Promise.resolve().then(b.bind(b,46476)).then(e=>e.finalizeQrSession),"7203eca9170cafc1e5b07649f82ea83c01c2068a":()=>Promise.resolve().then(b.bind(b,46476)).then(e=>e.removeCashierBox),"7bdd40e655a37e43e89e4f11e34931e24c504554":()=>Promise.resolve().then(b.bind(b,46476)).then(e=>e.regenerateCashierBoxQr),"7c90561350f1049b4ad793330e3266bbb0adc684":()=>Promise.resolve().then(b.bind(b,46476)).then(e=>e.addCashierBox),"9b0750bf92342c4d9f2be99ab846de6dc6883805":()=>Promise.resolve().then(b.bind(b,46476)).then(e=>e.confirmMobilePayment),a35440148a898087a7b4cdbd666092655c0b2bf0:()=>Promise.resolve().then(b.bind(b,46476)).then(e=>e.handleClientCopyAndPay),b038f92efd11b5e31689b4157ab42be1125f7d60:()=>Promise.resolve().then(b.bind(b,46476)).then(e=>e.cancelQrSession),c899ec5d95a35b6623f72371f706a90fbb31a7b1:()=>Promise.resolve().then(b.bind(b,46476)).then(e=>e.startQrSession),eb0d52356ee11f9376b2c1c7178c295e4383267f:()=>Promise.resolve().then(b.bind(b,46476)).then(e=>e.requestCashierLogin),eb917fd604377cea11e2b6633ee56913f9344ded:()=>Promise.resolve().then(b.bind(b,46476)).then(e=>e.updateCashierBox),"097b808e0ece62513ed2a928f4e9a74b2f5cd67b":()=>Promise.resolve().then(b.bind(b,71239)).then(e=>e.createProduct),"1e07348ea432662ad092ac802f4a5c62c0b6584a":()=>Promise.resolve().then(b.bind(b,71239)).then(e=>e.removeGalleryImage),"6970a6d88c9c6363fee8be49e1b820441b76289d":()=>Promise.resolve().then(b.bind(b,71239)).then(e=>e.addCommentToImage),"911f01a7adbee5e89e0dc6003ef17b4f0ac1f24c":()=>Promise.resolve().then(b.bind(b,71239)).then(e=>e.removeCommentFromImage),d10c5b0c5dc185c0719b914043fd17b76a901250:()=>Promise.resolve().then(b.bind(b,71239)).then(e=>e.updateGalleryImage),feab6f8fe3596605c3a56acf95b545caf1fe8f10:()=>Promise.resolve().then(b.bind(b,71239)).then(e=>e.createPublication),"159b2fe09127c5bd3daae38e767205dac7d77cab":()=>Promise.resolve().then(b.bind(b,20056)).then(e=>e.createAppointmentRequest),"2b06f3a3c6bc1d56ad79fe0105b23730fc59fc3c":()=>Promise.resolve().then(b.bind(b,20056)).then(e=>e.processDirectPayment),"2f895fe1b49f74d13cc6d7f8c94cf7264d1a290d":()=>Promise.resolve().then(b.bind(b,20056)).then(e=>e.resolveCollectionCase),"325dc1f7f655917be2c16c7e98b2d1937c654384":()=>Promise.resolve().then(b.bind(b,20056)).then(e=>e.payCommitment),"4ba72153081d80db8eb0c1d6fd08c42be123a593":()=>Promise.resolve().then(b.bind(b,20056)).then(e=>e.completeWork),"627bffb6d24f861e176920b8fac8e87d263c0e39":()=>Promise.resolve().then(b.bind(b,20056)).then(e=>e.confirmPaymentReceived),"683f24dbc04449f1048d22803857dd2e140d0626":()=>Promise.resolve().then(b.bind(b,20056)).then(e=>e.cancelSystemTransaction),"68e7dcb5930b2f1144a87059acc32941a426a6ba":()=>Promise.resolve().then(b.bind(b,20056)).then(e=>e.createQuoteRequest),"7ffaf3cdca4e8bfa88f07bb6fd67ea5a48706373":()=>Promise.resolve().then(b.bind(b,20056)).then(e=>e.checkout),"862bc6f0e45e133730d43c165242b63549e8d6ef":()=>Promise.resolve().then(b.bind(b,20056)).then(e=>e.confirmWorkReceived),"87e287519cb1cf3861ceab331f0ef39f9649c540":()=>Promise.resolve().then(b.bind(b,20056)).then(e=>e.startDispute),"97ae364a62d4df2288a07a620d912ce0ac96b58c":()=>Promise.resolve().then(b.bind(b,20056)).then(e=>e.writeOffDebt),b436050b9f6ea9d78925f00d451d2f9caa7fe276:()=>Promise.resolve().then(b.bind(b,20056)).then(e=>e.sendQuote),def0aa2b8b4ea6c1e06bbb61a801cf9d7db8217f:()=>Promise.resolve().then(b.bind(b,20056)).then(e=>e.acceptAppointment),eb08ed1ec3e7601b9657c9104751f4cd16e193bf:()=>Promise.resolve().then(b.bind(b,20056)).then(e=>e.acceptQuote),ffe6118251cbf259f053f1ac31bb9bf4df292901:()=>Promise.resolve().then(b.bind(b,20056)).then(e=>e.purchaseGift),"58916f5aa51f5451dd6608a06048fa71b5001e5a":()=>Promise.resolve().then(b.bind(b,43764)).then(e=>e.updateCart)};async function c(e,...a){return(await d[e]()).apply(null,a)}e.exports={"0fcca1ef621d98be26c0bfcf3d0536b2eafaf90b":c.bind(null,"0fcca1ef621d98be26c0bfcf3d0536b2eafaf90b"),"75f66e5bfcc5802b933cf6bb3a81d2e6fb71f193":c.bind(null,"75f66e5bfcc5802b933cf6bb3a81d2e6fb71f193"),"92acb34382b7cc06f4de5ac34a55db761fb52098":c.bind(null,"92acb34382b7cc06f4de5ac34a55db761fb52098"),d3324d6c83f3a3db02622507b4b401ba56959940:c.bind(null,"d3324d6c83f3a3db02622507b4b401ba56959940"),"453545b1b78662b98891491ec49e72197e0e6598":c.bind(null,"453545b1b78662b98891491ec49e72197e0e6598"),"5490e0fd1c242a5eef82e0a3ff2c7cb530d9e533":c.bind(null,"5490e0fd1c242a5eef82e0a3ff2c7cb530d9e533"),"6a3ff619f9bdd51def8f22d0234148dfd9e9330e":c.bind(null,"6a3ff619f9bdd51def8f22d0234148dfd9e9330e"),"7f3879fcde338c8e9e9f8b6e19e6e4358bb243bd":c.bind(null,"7f3879fcde338c8e9e9f8b6e19e6e4358bb243bd"),"86ad7b8d8be30d4d4c2808f5bbf0e5d8e49ba32a":c.bind(null,"86ad7b8d8be30d4d4c2808f5bbf0e5d8e49ba32a"),"88599a77cbf14a811bcc0d4db954c292e07a6abc":c.bind(null,"88599a77cbf14a811bcc0d4db954c292e07a6abc"),"9011e4229b8124357687ad18fd8d6620369c6645":c.bind(null,"9011e4229b8124357687ad18fd8d6620369c6645"),"9dbd3aa17f1b0d765a1019942ecab992f84521ef":c.bind(null,"9dbd3aa17f1b0d765a1019942ecab992f84521ef"),b6340bdf49ffb4d7a7d472365ccd4c5bb696fb65:c.bind(null,"b6340bdf49ffb4d7a7d472365ccd4c5bb696fb65"),d3b29fd6112ff6850dece7a05d126c764332b184:c.bind(null,"d3b29fd6112ff6850dece7a05d126c764332b184"),e86019e14c4860bd9cb7e35ea4e6b273f001c319:c.bind(null,"e86019e14c4860bd9cb7e35ea4e6b273f001c319"),f1a5672380f0c97ae05054afe728fa52f5b897d1:c.bind(null,"f1a5672380f0c97ae05054afe728fa52f5b897d1"),f2adee7cf4f2f8b5b2ceee6347d65222ab445eb7:c.bind(null,"f2adee7cf4f2f8b5b2ceee6347d65222ab445eb7"),"0cc468c9ec8056445c64fbc57ca071d6ae3aea6e":c.bind(null,"0cc468c9ec8056445c64fbc57ca071d6ae3aea6e"),"3092aa836369a6fcbeab8cbd1a0770080dd6f169":c.bind(null,"3092aa836369a6fcbeab8cbd1a0770080dd6f169"),"7203eca9170cafc1e5b07649f82ea83c01c2068a":c.bind(null,"7203eca9170cafc1e5b07649f82ea83c01c2068a"),"7bdd40e655a37e43e89e4f11e34931e24c504554":c.bind(null,"7bdd40e655a37e43e89e4f11e34931e24c504554"),"7c90561350f1049b4ad793330e3266bbb0adc684":c.bind(null,"7c90561350f1049b4ad793330e3266bbb0adc684"),"9b0750bf92342c4d9f2be99ab846de6dc6883805":c.bind(null,"9b0750bf92342c4d9f2be99ab846de6dc6883805"),a35440148a898087a7b4cdbd666092655c0b2bf0:c.bind(null,"a35440148a898087a7b4cdbd666092655c0b2bf0"),b038f92efd11b5e31689b4157ab42be1125f7d60:c.bind(null,"b038f92efd11b5e31689b4157ab42be1125f7d60"),c899ec5d95a35b6623f72371f706a90fbb31a7b1:c.bind(null,"c899ec5d95a35b6623f72371f706a90fbb31a7b1"),eb0d52356ee11f9376b2c1c7178c295e4383267f:c.bind(null,"eb0d52356ee11f9376b2c1c7178c295e4383267f"),eb917fd604377cea11e2b6633ee56913f9344ded:c.bind(null,"eb917fd604377cea11e2b6633ee56913f9344ded"),"097b808e0ece62513ed2a928f4e9a74b2f5cd67b":c.bind(null,"097b808e0ece62513ed2a928f4e9a74b2f5cd67b"),"1e07348ea432662ad092ac802f4a5c62c0b6584a":c.bind(null,"1e07348ea432662ad092ac802f4a5c62c0b6584a"),"6970a6d88c9c6363fee8be49e1b820441b76289d":c.bind(null,"6970a6d88c9c6363fee8be49e1b820441b76289d"),"911f01a7adbee5e89e0dc6003ef17b4f0ac1f24c":c.bind(null,"911f01a7adbee5e89e0dc6003ef17b4f0ac1f24c"),d10c5b0c5dc185c0719b914043fd17b76a901250:c.bind(null,"d10c5b0c5dc185c0719b914043fd17b76a901250"),feab6f8fe3596605c3a56acf95b545caf1fe8f10:c.bind(null,"feab6f8fe3596605c3a56acf95b545caf1fe8f10"),"159b2fe09127c5bd3daae38e767205dac7d77cab":c.bind(null,"159b2fe09127c5bd3daae38e767205dac7d77cab"),"2b06f3a3c6bc1d56ad79fe0105b23730fc59fc3c":c.bind(null,"2b06f3a3c6bc1d56ad79fe0105b23730fc59fc3c"),"2f895fe1b49f74d13cc6d7f8c94cf7264d1a290d":c.bind(null,"2f895fe1b49f74d13cc6d7f8c94cf7264d1a290d"),"325dc1f7f655917be2c16c7e98b2d1937c654384":c.bind(null,"325dc1f7f655917be2c16c7e98b2d1937c654384"),"4ba72153081d80db8eb0c1d6fd08c42be123a593":c.bind(null,"4ba72153081d80db8eb0c1d6fd08c42be123a593"),"627bffb6d24f861e176920b8fac8e87d263c0e39":c.bind(null,"627bffb6d24f861e176920b8fac8e87d263c0e39"),"683f24dbc04449f1048d22803857dd2e140d0626":c.bind(null,"683f24dbc04449f1048d22803857dd2e140d0626"),"68e7dcb5930b2f1144a87059acc32941a426a6ba":c.bind(null,"68e7dcb5930b2f1144a87059acc32941a426a6ba"),"7ffaf3cdca4e8bfa88f07bb6fd67ea5a48706373":c.bind(null,"7ffaf3cdca4e8bfa88f07bb6fd67ea5a48706373"),"862bc6f0e45e133730d43c165242b63549e8d6ef":c.bind(null,"862bc6f0e45e133730d43c165242b63549e8d6ef"),"87e287519cb1cf3861ceab331f0ef39f9649c540":c.bind(null,"87e287519cb1cf3861ceab331f0ef39f9649c540"),"97ae364a62d4df2288a07a620d912ce0ac96b58c":c.bind(null,"97ae364a62d4df2288a07a620d912ce0ac96b58c"),b436050b9f6ea9d78925f00d451d2f9caa7fe276:c.bind(null,"b436050b9f6ea9d78925f00d451d2f9caa7fe276"),def0aa2b8b4ea6c1e06bbb61a801cf9d7db8217f:c.bind(null,"def0aa2b8b4ea6c1e06bbb61a801cf9d7db8217f"),eb08ed1ec3e7601b9657c9104751f4cd16e193bf:c.bind(null,"eb08ed1ec3e7601b9657c9104751f4cd16e193bf"),ffe6118251cbf259f053f1ac31bb9bf4df292901:c.bind(null,"ffe6118251cbf259f053f1ac31bb9bf4df292901"),"58916f5aa51f5451dd6608a06048fa71b5001e5a":c.bind(null,"58916f5aa51f5451dd6608a06048fa71b5001e5a")}},11604:(e,a,b)=>{"use strict";b.d(a,{CR:()=>o,QN:()=>f,aN:()=>r,cN:()=>c,gC:()=>h,jh:()=>t,lB:()=>i,qP:()=>s,vw:()=>l,zt:()=>n}),b(15424);var d=b(46242);(0,d.$)("eb0d52356ee11f9376b2c1c7178c295e4383267f");var c=(0,d.$)("7c90561350f1049b4ad793330e3266bbb0adc684"),f=(0,d.$)("7203eca9170cafc1e5b07649f82ea83c01c2068a"),n=(0,d.$)("eb917fd604377cea11e2b6633ee56913f9344ded"),t=(0,d.$)("7bdd40e655a37e43e89e4f11e34931e24c504554"),i=(0,d.$)("c899ec5d95a35b6623f72371f706a90fbb31a7b1"),r=(0,d.$)("0cc468c9ec8056445c64fbc57ca071d6ae3aea6e"),o=(0,d.$)("b038f92efd11b5e31689b4157ab42be1125f7d60"),s=(0,d.$)("a35440148a898087a7b4cdbd666092655c0b2bf0"),l=(0,d.$)("9b0750bf92342c4d9f2be99ab846de6dc6883805"),h=(0,d.$)("3092aa836369a6fcbeab8cbd1a0770080dd6f169")},9256:(e,a,b)=>{"use strict";b.a(e,async(e,d)=>{try{b.d(a,{M:()=>o,Z:()=>s});var c=b(27745);b(26461);var f=b(11667),n=b(48465),t=b(72929),i=b(85723),r=e([t]);async function o(e,a){let b=`caja-${Date.now()}`,d=JSON.stringify({providerId:a.userId,cashierBoxId:b});try{let c=await n.toDataURL(d,{errorCorrectionLevel:"H",type:"image/png",margin:1}),f={id:b,name:a.name,passwordHash:a.password,qrValue:d,qrDataURL:c},i=e.collection("users").doc(a.userId);return await i.update({"profileSetupData.cashierBoxes":t.FieldValue.arrayUnion(f)}),f}catch(e){throw console.error("Failed to generate QR Data URL in flow",e),Error("Could not generate QR code.")}}async function s(e,a){let b=JSON.stringify({providerId:a.userId,cashierBoxId:a.boxId,timestamp:Date.now()});try{let d=await n.toDataURL(b,{errorCorrectionLevel:"H",type:"image/png",margin:1}),c=e.collection("users").doc(a.userId),f=(await c.get()).data(),t=f?.profileSetupData?.cashierBoxes||[],i=t.findIndex(e=>e.id===a.boxId);if(-1===i)throw Error("Cashier box not found");let r=[...t];return r[i].qrValue=b,r[i].qrDataURL=d,await c.update({"profileSetupData.cashierBoxes":r}),{qrValue:b,qrDataURL:d}}catch(e){throw console.error("Failed to regenerate QR Data URL in flow",e),Error("Could not regenerate QR code.")}}t=(r.then?(await r)():r)[0],f.Ry({userId:f.Z_(),name:f.Z_(),password:f.Z_().min(4).max(6)}),f.Ry({userId:f.Z_(),boxId:f.Z_()}),(0,i.h)([o,s]),(0,c.j)("f9361025a0b4b944eb2cba53b6ee529517410261",o),(0,c.j)("7003ae8a1e42157a1f6dba02f8f02d46cc5fcea4",s),d()}catch(e){d(e)}})},46476:(e,a,b)=>{"use strict";b.a(e,async(e,d)=>{try{b.r(a),b.d(a,{addCashierBox:()=>l,cancelQrSession:()=>P,confirmMobilePayment:()=>w,finalizeQrSession:()=>y,handleClientCopyAndPay:()=>g,regenerateCashierBoxQr:()=>m,removeCashierBox:()=>h,requestCashierLogin:()=>S,setQrSessionAmount:()=>v,startQrSession:()=>p,updateCashierBox:()=>u});var c=b(27745);b(26461);var f=b(30207),n=b(9256),t=b(9698),i=b(50604),r=b(30266),o=b(85723),s=e([n,i,r]);async function l(e,a,b){let d=(0,r.hi)();await (0,n.M)(d,{userId:e,name:a,password:b}),(0,f.revalidatePath)("/transactions/settings/cashier")}async function h(e,a){let b=(0,r.hi)().collection("users").doc(e),d=(await b.get()).data(),c=(d?.profileSetupData?.cashierBoxes||[]).filter(e=>e.id!==a);await b.update({"profileSetupData.cashierBoxes":c}),(0,f.revalidatePath)("/transactions/settings/cashier")}async function u(e,a,b){let d=(0,r.hi)().collection("users").doc(e),c=(await d.get()).data(),n=c?.profileSetupData?.cashierBoxes||[],t=n.findIndex(e=>e.id===a);if(-1===t)throw Error("Cashier box not found");let i=[...n];i[t]={...i[t],...b},await d.update({"profileSetupData.cashierBoxes":i}),(0,f.revalidatePath)("/transactions/settings/cashier")}async function m(e,a){let b=(0,r.hi)();await (0,n.Z)(b,{userId:e,boxId:a}),(0,f.revalidatePath)("/transactions/settings/cashier")}async function p(e,a,b,d){let c=(0,r.hi)(),f=`qrsess-${Date.now()}`,n=c.collection("qr_sessions").doc(f);return await n.set({id:f,clientId:e,providerId:a,cashierBoxId:b||null,cashierName:d||null,status:"pendingAmount",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),participantIds:[e,a].sort()}),f}async function v(e,a,b,d,c){let f=(0,r.hi)();await f.collection("qr_sessions").doc(e).update({amount:a,initialPayment:b,financedAmount:d,installments:c,status:"pendingClientApproval",updatedAt:new Date().toISOString()})}async function P(e){let a=(0,r.hi)();await a.collection("qr_sessions").doc(e).update({status:"cancelled",updatedAt:new Date().toISOString()})}async function g(e){let a=(0,r.hi)();await a.collection("qr_sessions").doc(e).update({status:"awaitingPayment",updatedAt:new Date().toISOString()})}async function w(e){let a=(0,r.hi)();await a.collection("qr_sessions").doc(e).update({status:"pendingVoucherUpload",updatedAt:new Date().toISOString()})}async function y(e){let a=(0,r.hi)(),{transactionId:b}=await (0,i.km)(a,{sessionId:e});await a.collection("qr_sessions").doc(e).update({status:"completed",transactionId:b,updatedAt:new Date().toISOString()}),(0,f.revalidatePath)("/transactions")}async function S(e,a,b){let d=(0,r.hi)(),c=`cashier-req-${Date.now()}`;return await (0,t.i6)(d,{userId:e,type:"cashier_request",title:"Solicitud de Apertura de Caja",message:`${a} est\xe1 solicitando abrir un turno en la caja '${b}'.`,link:"/admin/cashier-requests",metadata:{requestId:c}}),c}[n,i,r]=s.then?(await s)():s,(0,o.h)([l,h,u,m,p,v,P,g,w,y,S]),(0,c.j)("7c90561350f1049b4ad793330e3266bbb0adc684",l),(0,c.j)("7203eca9170cafc1e5b07649f82ea83c01c2068a",h),(0,c.j)("eb917fd604377cea11e2b6633ee56913f9344ded",u),(0,c.j)("7bdd40e655a37e43e89e4f11e34931e24c504554",m),(0,c.j)("c899ec5d95a35b6623f72371f706a90fbb31a7b1",p),(0,c.j)("0cc468c9ec8056445c64fbc57ca071d6ae3aea6e",v),(0,c.j)("b038f92efd11b5e31689b4157ab42be1125f7d60",P),(0,c.j)("a35440148a898087a7b4cdbd666092655c0b2bf0",g),(0,c.j)("9b0750bf92342c4d9f2be99ab846de6dc6883805",w),(0,c.j)("3092aa836369a6fcbeab8cbd1a0770080dd6f169",y),(0,c.j)("eb0d52356ee11f9376b2c1c7178c295e4383267f",S),d()}catch(e){d(e)}})}};