exports.id=2687,exports.ids=[2687],exports.modules={78887:(e,a,t)=>{Promise.resolve().then(t.t.bind(t,12994,23)),Promise.resolve().then(t.t.bind(t,96114,23)),Promise.resolve().then(t.t.bind(t,9727,23)),Promise.resolve().then(t.t.bind(t,79671,23)),Promise.resolve().then(t.t.bind(t,41868,23)),Promise.resolve().then(t.t.bind(t,84759,23))},26133:(e,a,t)=>{Promise.resolve().then(t.bind(t,76907)),Promise.resolve().then(t.bind(t,24609)),Promise.resolve().then(t.bind(t,40422)),Promise.resolve().then(t.bind(t,13511))},64806:(e,a,t)=>{Promise.resolve().then(t.bind(t,83846))},76907:(e,a,t)=>{"use strict";t.d(a,{default:()=>eu});var i=t(10326),r=t(35047),s=t(90434),n=t(91664),o=t(63685),d=t(22055),c=t(88378),l=t(95920),u=t(70582),p=t(40617),m=t(51223),f=t(13511),h=t(3594),x=t(17577),b=t(46226),v=t(24118),g=t(41190),y=t(82015),w=t(44794),j=t(84097),I=t(32933),N=t(71709),P=t(13225),C=t(94019),S=t(3255),R=t(77506),E=t(33261),k=t(80980);function _({src:e,onConfirm:a,onCancel:t,isVideo:r}){let s=(0,x.useRef)(null),[o,d]=(0,x.useState)("square");return(0,i.jsxs)("div",{className:"space-y-4",children:[i.jsx("div",{className:"w-full aspect-video bg-black rounded-md flex items-center justify-center",children:r?i.jsx("video",{src:e,controls:!0,className:"max-h-full"}):i.jsx("canvas",{ref:s,className:"max-w-full max-h-full"})}),!r&&(0,i.jsxs)("div",{className:"flex justify-center gap-2",children:[i.jsx(n.z,{variant:"square"===o?"default":"outline",onClick:()=>d("square"),children:"Cuadrado (1:1)"}),i.jsx(n.z,{variant:"horizontal"===o?"default":"outline",onClick:()=>d("horizontal"),children:"Horizontal (16:9)"}),i.jsx(n.z,{variant:"vertical"===o?"default":"outline",onClick:()=>d("vertical"),children:"Vertical (4:5)"})]}),(0,i.jsxs)("div",{className:"flex justify-end gap-2",children:[i.jsx(n.z,{variant:"ghost",onClick:t,children:"Cancelar"}),(0,i.jsxs)(n.z,{onClick:()=>{if(r){a(e,"horizontal");return}s.current&&a(s.current.toDataURL("image/jpeg",.85),o)},children:[i.jsx(I.Z,{className:"mr-2 h-4 w-4"}),"Confirmar"]})]})]})}function D({isOpen:e,onOpenChange:a}){let{currentUser:t}=(0,f.a)(),{toast:s}=(0,j.pm)(),o=(0,x.useRef)(null),d=(0,r.useRouter)(),[c,l]=(0,x.useState)("selection"),[u,p]=(0,x.useState)(!1),[m,h]=(0,x.useState)(null),[I,D]=(0,x.useState)(null),[A,$]=(0,x.useState)(""),[T,z]=(0,x.useState)(!1),[F,L]=(0,x.useState)("square"),[Z,O]=(0,x.useState)(null),[M,q]=(0,x.useState)(""),[U,B]=(0,x.useState)(""),[V,G]=(0,x.useState)(""),H=e=>{o.current&&(o.current.setAttribute("accept","gallery"===e?"image/*,video/*":"image/*"),o.current.click())},Q=e=>{let a=e.target.files?.[0];if(a){let e=new FileReader;e.onloadend=()=>{h(e.result),z(a.type.startsWith("video/")),l("edit")},e.readAsDataURL(a)}},Y=(e,a)=>{"upload_gallery"!==c&&("edit"!==c||M)?(O(e),l("upload_product")):(D(e),L(a),l("upload_gallery")),h(null)},J=()=>{!m||I||Z?M?l("upload_product"):l("upload_gallery"):l("selection"),h(null)},W=()=>{l("selection"),D(null),$(""),z(!1),O(null),q(""),B(""),G(""),p(!1),h(null)},K=()=>{W(),a(!1)},X=async()=>{if(!I||!A.trim()||!t){s({variant:"destructive",title:"Faltan datos",description:"Debes subir un archivo y a\xf1adir una descripci\xf3n."});return}p(!0);try{let e={userId:t.id,description:A,imageDataUri:I,aspectRatio:F,type:T?"video":"image"};await (0,k.Ms)(e),s({title:"\xa1Publicaci\xf3n Exitosa!",description:"Tu nuevo contenido ya est\xe1 en tu galer\xeda."}),K()}catch(e){console.error("Error creating publication:",e),s({variant:"destructive",title:"Error al Publicar",description:"No se pudo crear la publicaci\xf3n."})}finally{p(!1)}},ee=async()=>{if(!Z||!M.trim()||!U.trim()||!V||!t){s({variant:"destructive",title:"Faltan datos",description:"Completa todos los campos del producto."});return}p(!0);try{let e={userId:t.id,name:M,description:U,price:parseFloat(V),imageDataUri:Z};await (0,k.ry)(e),s({title:"\xa1Producto A\xf1adido!",description:`${M} ya est\xe1 en tu cat\xe1logo.`}),K(),d.push("/profile/catalog")}catch(e){console.error("Error creating product:",e),s({variant:"destructive",title:"Error al A\xf1adir Producto",description:"No se pudo crear el producto."})}finally{p(!1)}};return t?i.jsx(v.Vq,{open:e,onOpenChange:K,children:i.jsx(v.cZ,{className:"sm:max-w-md",children:(()=>{if(m)return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(v.fK,{children:[i.jsx(v.$N,{children:"Editar Archivo"}),i.jsx(v.Be,{children:"Ajusta tu imagen o video antes de publicar."})]}),i.jsx(_,{src:m,onConfirm:Y,onCancel:J,isVideo:T})]});switch(c){case"selection":return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(v.fK,{children:[i.jsx(v.$N,{children:"\xbfQu\xe9 quieres a\xf1adir?"}),i.jsx(v.Be,{children:"Elige si quieres subir una publicaci\xf3n a tu galer\xeda o a\xf1adir un producto a tu cat\xe1logo."})]}),(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-4 py-4",children:[(0,i.jsxs)(n.z,{variant:"outline",className:"h-28 flex-col gap-2",onClick:()=>l("upload_gallery"),children:[i.jsx(N.Z,{className:"w-8 h-8"}),"Publicar en Galer\xeda"]}),(0,i.jsxs)(n.z,{variant:"outline",className:"h-28 flex-col gap-2",onClick:()=>l("upload_product"),children:[i.jsx(P.Z,{className:"w-8 h-8"}),"A\xf1adir Producto"]})]})]});case"upload_gallery":return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(v.fK,{children:[i.jsx(v.$N,{children:"Crear Nueva Publicaci\xf3n"}),i.jsx(v.Be,{children:"Sube una imagen o video y comp\xe1rtelo en tu vitrina para atraer clientes."})]}),(0,i.jsxs)("div",{className:"space-y-4 py-4",children:[(0,i.jsxs)("div",{className:"space-y-2",children:[i.jsx(w._,{children:"Archivo (Imagen o Video)"}),i.jsx(g.I,{type:"file",ref:o,onChange:Q,className:"hidden",accept:"image/*,video/*"}),I?(0,i.jsxs)("div",{className:"relative group w-full aspect-video rounded-md overflow-hidden bg-black",children:[i.jsx(b.default,{src:I,alt:"Vista previa",fill:!0,style:{objectFit:"contain"},sizes:"(max-width: 768px) 100vw, 50vw"}),i.jsx(n.z,{variant:"destructive",size:"icon",className:"absolute top-2 right-2 h-7 w-7 opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>{D(null)},children:i.jsx(C.Z,{className:"h-4 w-4"})})]}):(0,i.jsxs)("div",{className:"w-full aspect-video border-2 border-dashed border-muted-foreground rounded-md flex flex-col items-center justify-center text-muted-foreground hover:bg-muted/50 cursor-pointer transition-colors",onClick:()=>H("gallery"),children:[i.jsx(S.Z,{className:"w-10 h-10 mb-2"}),i.jsx("p",{className:"text-sm font-semibold",children:"Haz clic para seleccionar un archivo"}),i.jsx("p",{className:"text-xs",children:"PNG, JPG, MP4, etc."})]})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[i.jsx(w._,{htmlFor:"description",children:"Descripci\xf3n"}),i.jsx(y.g,{id:"description",placeholder:"A\xf1ade una descripci\xf3n para tu publicaci\xf3n...",value:A,onChange:e=>$(e.target.value),rows:4})]})]}),(0,i.jsxs)(v.cN,{children:[i.jsx(n.z,{variant:"outline",onClick:K,children:"Cancelar"}),(0,i.jsxs)(n.z,{onClick:X,disabled:!I||!A.trim()||u,children:[u&&i.jsx(R.Z,{className:"mr-2 h-4 w-4 animate-spin"}),"Publicar en Galer\xeda"]})]})]});case"upload_product":return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(v.fK,{children:[i.jsx(v.$N,{children:"A\xf1adir Nuevo Producto"}),i.jsx(v.Be,{children:"Completa los datos para a\xf1adir un producto a tu cat\xe1logo de venta."})]}),(0,i.jsxs)("div",{className:"space-y-4 py-4 max-h-[60vh] overflow-y-auto pr-2",children:[(0,i.jsxs)(E.bZ,{children:[i.jsx(E.Cd,{className:"text-sm",children:"Sugerencia de Imagen"}),i.jsx(E.X,{className:"text-xs",children:"Para una mejor visualizaci\xf3n, te sugerimos usar im\xe1genes con fondo blanco."})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[i.jsx(w._,{children:"Imagen del Producto"}),i.jsx(g.I,{type:"file",ref:o,onChange:Q,className:"hidden",accept:"image/*"}),Z?(0,i.jsxs)("div",{className:"relative group w-full aspect-square rounded-md overflow-hidden",children:[i.jsx(b.default,{src:Z,alt:"Vista previa",fill:!0,style:{objectFit:"cover"},sizes:"300px"}),i.jsx(n.z,{variant:"destructive",size:"icon",className:"absolute top-2 right-2 h-7 w-7 opacity-0 group-hover:opacity-100",onClick:()=>O(null),children:i.jsx(C.Z,{className:"h-4 w-4"})})]}):i.jsx("div",{className:"w-full aspect-square border-2 border-dashed rounded-md flex items-center justify-center cursor-pointer",onClick:()=>H("product"),children:i.jsx(S.Z,{className:"w-10 h-10 text-muted-foreground"})})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[i.jsx(w._,{htmlFor:"product-name",children:"Nombre del Producto"}),i.jsx(g.I,{id:"product-name",value:M,onChange:e=>q(e.target.value)})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[i.jsx(w._,{htmlFor:"product-desc",children:"Descripci\xf3n"}),i.jsx(y.g,{id:"product-desc",value:U,onChange:e=>B(e.target.value)})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[i.jsx(w._,{htmlFor:"product-price",children:"Precio (USD)"}),i.jsx(g.I,{id:"product-price",type:"number",value:V,onChange:e=>G(e.target.value)})]})]}),(0,i.jsxs)(v.cN,{children:[i.jsx(n.z,{variant:"outline",onClick:K,children:"Cancelar"}),(0,i.jsxs)(n.z,{onClick:ee,disabled:!Z||!M.trim()||u,children:[u&&i.jsx(R.Z,{className:"mr-2 h-4 w-4 animate-spin"}),"A\xf1adir Producto"]})]})]});default:return null}})()})}):null}function A(){let e=(0,r.usePathname)(),a=(0,r.useRouter)(),{currentUser:t}=(0,f.a)(),[b,v]=(0,x.useState)(!1);if(!t)return null;let g="provider"===t.type,y="/profile"===e||e===`/companies/${t.id}`,w=g&&y?o.Z:d.Z;return(0,i.jsxs)(i.Fragment,{children:[i.jsx("footer",{className:"fixed bottom-0 left-0 right-0 bg-background border-t z-50",children:(0,i.jsxs)("div",{className:"container h-16 flex justify-around items-center px-2",children:[i.jsx(s.default,{href:"/",passHref:!0,children:i.jsx(n.z,{variant:"ghost",className:(0,m.cn)("flex-col h-auto p-1 text-muted-foreground hover:text-primary","/"===e&&"text-primary"),children:i.jsx(l.Z,{className:"w-6 h-6"})})}),i.jsx(s.default,{href:"/videos",passHref:!0,children:i.jsx(n.z,{variant:"ghost",className:(0,m.cn)("flex-col h-auto p-1 text-muted-foreground hover:text-primary","/videos"===e&&"text-primary"),children:i.jsx(u.Z,{className:"w-6 h-6"})})}),i.jsx(n.z,{onClick:()=>{g&&y?v(!0):a.push(g?"/show-qr":"/scan-qr")},size:"icon",className:"relative -top-4 w-16 h-16 rounded-full shadow-lg bg-primary text-primary-foreground hover:bg-primary/90",children:i.jsx(w,{className:"w-8 h-8"})},"central-action"),i.jsx(s.default,{href:"/messages",passHref:!0,children:i.jsx(n.z,{variant:"ghost",className:(0,m.cn)("flex-col h-auto p-1 text-muted-foreground hover:text-primary",e.startsWith("/messages")&&"text-primary"),children:i.jsx(p.Z,{className:"w-6 h-6"})})}),(()=>{if(y){let e=t.profileSetupData?.providerType==="company"?"/profile-setup/company":"/profile-setup/personal";return i.jsx(s.default,{href:e,passHref:!0,children:i.jsx(n.z,{variant:"ghost",className:"flex-col h-auto p-1 text-primary",children:i.jsx(c.Z,{className:"w-6 h-6"})})})}return i.jsx(s.default,{href:"/profile",passHref:!0,children:i.jsx(n.z,{variant:"ghost",className:(0,m.cn)("flex-col h-auto p-1 text-muted-foreground hover:text-primary"),children:(0,i.jsxs)(h.qE,{className:(0,m.cn)("w-7 h-7"),children:[i.jsx(h.F$,{src:t.profileImage,alt:t.name}),i.jsx(h.Q5,{children:t.name.charAt(0)})]})})})})()]})}),i.jsx(D,{isOpen:b,onOpenChange:v})]})}var $=t(77636),T=t(36283),z=t(16671),F=t(50699),L=t(90748),Z=t(58038),O=t(79635),M=t(70717),q=t(63062),U=t(71810),B=t(88307),V=t(57671),G=t(79313),H=t(39183),Q=t(53982);let Y=G.fC,J=G.xz;G.ZA,G.Uv,G.Tr,G.Ee,x.forwardRef(({className:e,inset:a,children:t,...r},s)=>(0,i.jsxs)(G.fF,{ref:s,className:(0,m.cn)("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",a&&"pl-8",e),...r,children:[t,i.jsx(H.Z,{className:"ml-auto"})]})).displayName=G.fF.displayName,x.forwardRef(({className:e,...a},t)=>i.jsx(G.tu,{ref:t,className:(0,m.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...a})).displayName=G.tu.displayName;let W=x.forwardRef(({className:e,sideOffset:a=4,...t},r)=>i.jsx(G.Uv,{children:i.jsx(G.VY,{ref:r,sideOffset:a,className:(0,m.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t})}));W.displayName=G.VY.displayName;let K=x.forwardRef(({className:e,inset:a,...t},r)=>i.jsx(G.ck,{ref:r,className:(0,m.cn)("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",a&&"pl-8",e),...t}));K.displayName=G.ck.displayName,x.forwardRef(({className:e,children:a,checked:t,...r},s)=>(0,i.jsxs)(G.oC,{ref:s,className:(0,m.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:t,...r,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(G.wU,{children:i.jsx(I.Z,{className:"h-4 w-4"})})}),a]})).displayName=G.oC.displayName,x.forwardRef(({className:e,children:a,...t},r)=>(0,i.jsxs)(G.Rk,{ref:r,className:(0,m.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...t,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(G.wU,{children:i.jsx(Q.Z,{className:"h-2 w-2 fill-current"})})}),a]})).displayName=G.Rk.displayName,x.forwardRef(({className:e,inset:a,...t},r)=>i.jsx(G.__,{ref:r,className:(0,m.cn)("px-2 py-1.5 text-sm font-semibold",a&&"pl-8",e),...t})).displayName=G.__.displayName;let X=x.forwardRef(({className:e,...a},t)=>i.jsx(G.Z0,{ref:t,className:(0,m.cn)("-mx-1 my-1 h-px bg-muted",e),...a}));X.displayName=G.Z0.displayName;var ee=t(14831),ea=t(60850),et=t(72607);function ei(){let{theme:e,setTheme:a}=(0,ee.F)();return(0,i.jsxs)(K,{onClick:()=>a("dark"===e?"light":"dark"),children:["dark"===e?i.jsx(ea.Z,{className:"mr-2 h-4 w-4"}):i.jsx(et.Z,{className:"mr-2 h-4 w-4"}),i.jsx("span",{children:"dark"===e?"Modo Claro":"Modo Oscuro"})]})}var er=t(51027),es=t(55296),en=t(38443),eo=t(63958),ed=t(71497),ec=t(97848);function el(){let{cart:e,searchQuery:a,setSearchQuery:t,currentUser:o,addSearchToHistory:d}=(0,f.a)(),{logout:c}=(0,f.a)(),l=(0,r.useRouter)(),[u,p]=(0,x.useState)(!1);if(!o)return null;let h=o.profileSetupData?.providerType==="company",v=!0===o.isTransactionsActive,y=e.reduce((e,a)=>e+a.quantity,0);return i.jsx("header",{className:"sticky top-0 z-30 bg-background/95 backdrop-blur-sm border-b",children:(0,i.jsxs)("div",{className:"container px-4 sm:px-6",children:[(0,i.jsxs)("div",{className:"flex h-16 items-center justify-between gap-4",children:[i.jsx(s.default,{href:"/contacts",passHref:!0,children:i.jsx(b.default,{src:"https://i.postimg.cc/3xvTT4X8/logo-dark-png.png",alt:"Corabo Logo",width:120,height:40,className:"h-10 w-auto cursor-pointer"})}),(0,i.jsxs)("div",{className:"flex items-center gap-1",children:[i.jsx(n.z,{variant:"ghost",size:"icon",onClick:()=>{(0,ec.M6)(o.id)},onDoubleClick:()=>l.push("/map"),children:i.jsx($.Z,{className:(0,m.cn)("h-5 w-5",o.isGpsActive?"text-green-500":"text-muted-foreground")})}),i.jsx(n.z,{variant:"ghost",size:"icon",onClick:()=>l.push("/quotes"),children:i.jsx(T.Z,{className:"h-5 w-5 text-muted-foreground"})}),i.jsx(n.z,{variant:"ghost",size:"icon",onClick:()=>l.push("/transactions"),children:i.jsx(z.Z,{className:"h-5 w-5 text-muted-foreground"})}),h&&v&&i.jsx(n.z,{asChild:!0,variant:"ghost",size:"icon",className:"relative",children:i.jsx(s.default,{href:"/transactions/settings/cashier",children:i.jsx(F.Z,{className:"h-5 w-5 text-muted-foreground"})})}),(0,i.jsxs)(Y,{children:[i.jsx(J,{asChild:!0,children:i.jsx(n.z,{variant:"ghost",size:"icon",children:i.jsx(L.Z,{className:"h-6 w-6 text-muted-foreground"})})}),(0,i.jsxs)(W,{align:"end",children:["admin"===o.role&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(K,{onClick:()=>l.push("/admin"),children:[i.jsx(Z.Z,{className:"mr-2 h-4 w-4"}),i.jsx("span",{children:"Panel de Admin"})]}),i.jsx(X,{})]}),(0,i.jsxs)(K,{onClick:()=>l.push("/profile"),children:[i.jsx(O.Z,{className:"mr-2 h-4 w-4"}),i.jsx("span",{children:"Mi Perfil"})]}),(0,i.jsxs)(K,{onClick:()=>l.push("/transactions"),children:[i.jsx(z.Z,{className:"mr-2 h-4 w-4"}),i.jsx("span",{children:"Registro de Transacciones"})]}),(0,i.jsxs)(K,{onClick:()=>l.push("/search-history"),children:[i.jsx(M.Z,{className:"mr-2 h-4 w-4"}),i.jsx("span",{children:"Historial de B\xfasqueda"})]}),(0,i.jsxs)(K,{onClick:()=>l.push("/quotes"),children:[i.jsx(T.Z,{className:"mr-2 h-4 w-4"}),i.jsx("span",{children:"Cotizar"})]}),i.jsx(X,{}),i.jsx(ei,{}),(0,i.jsxs)(K,{onClick:()=>l.push("/policies"),children:[i.jsx(Z.Z,{className:"mr-2 h-4 w-4"}),i.jsx("span",{children:"Pol\xedticas y Legal"})]}),(0,i.jsxs)(K,{onClick:()=>l.push("/contacts"),children:[i.jsx(q.Z,{className:"mr-2 h-4 w-4"}),i.jsx("span",{children:"Ayuda y Soporte"})]}),i.jsx(X,{}),(0,i.jsxs)(K,{onClick:c,className:"text-destructive focus:bg-destructive/10 focus:text-destructive",children:[i.jsx(U.Z,{className:"mr-2 h-4 w-4"}),i.jsx("span",{children:"Cerrar Sesi\xf3n"})]})]})]})]})]}),(0,i.jsxs)("form",{onSubmit:e=>{e.preventDefault(),a.trim()&&d(a),l.push("/")},className:"flex items-center gap-2 pb-3",children:[(0,i.jsxs)("div",{className:"relative flex-grow",children:[i.jsx(B.Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),i.jsx(g.I,{placeholder:"Buscar por servicio, producto...",className:"pl-10 pr-4 rounded-full bg-muted border-none focus-visible:ring-primary/50",value:a,onChange:e=>t(e.target.value)})]}),i.jsx(n.z,{type:"button",variant:"outline",size:"sm",className:"rounded-full",onClick:()=>l.push("/search"),children:"Explorar"}),(0,i.jsxs)(es.aR,{open:u,onOpenChange:p,children:[(0,i.jsxs)(er.J2,{children:[i.jsx(er.xo,{asChild:!0,children:(0,i.jsxs)(n.z,{variant:"secondary",size:"icon",className:"relative rounded-full",children:[i.jsx(V.Z,{className:"w-5 h-5 text-muted-foreground"}),y>0&&i.jsx(en.C,{variant:"destructive",className:"absolute -top-1 -right-1 h-5 w-5 p-0 flex items-center justify-center text-xs rounded-full",children:y})]})}),i.jsx(er.yk,{className:"w-80",children:i.jsx(eo.P,{onCheckoutClick:()=>p(!0)})})]}),i.jsx(ed.z,{onOpenChange:p})]})]})]})})}function eu({children:e}){let a=(0,r.usePathname)(),{currentUser:t,isLoadingAuth:s}=(0,f.a)();if(s)return i.jsx("div",{className:"flex items-center justify-center min-h-screen",children:i.jsx(R.Z,{className:"h-12 w-12 animate-spin text-primary"})});if(!t)return i.jsx(i.Fragment,{children:e});let n=["/profile-setup","/cashier-login","/scan-qr","/show-qr","/videos","/profile"].some(e=>a.startsWith(e)),o=["/messages","/scan-qr","/show-qr","/admin","/videos","/profile-setup","/cashier-login"].some(e=>a.startsWith(e));return(0,i.jsxs)(i.Fragment,{children:[!n&&i.jsx(el,{}),i.jsx("div",{className:"flex-1",children:e}),!o&&i.jsx(A,{})]})}},83846:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>o});var i=t(10326),r=t(91664),s=t(46226),n=t(35047);function o(){let e=(0,n.useRouter)();return(0,i.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-screen bg-background text-center px-4",children:[i.jsx(s.default,{src:"/images/logo-dark.png",alt:"Corabo logo",width:192,height:64,priority:!0,className:"object-contain mb-6"}),i.jsx("h2",{className:"text-2xl font-bold text-destructive",children:"Error 404"}),i.jsx("p",{className:"mt-2 text-lg text-muted-foreground",children:"Lo sentimos, no pudimos encontrar la p\xe1gina que est\xe1s buscando."}),i.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"Es posible que el enlace est\xe9 roto o que la p\xe1gina haya sido eliminada."}),i.jsx(r.z,{className:"mt-8",onClick:()=>e.push("/"),children:"Volver a la P\xe1gina Principal"})]})}},63958:(e,a,t)=>{"use strict";t.d(a,{P:()=>p});var i=t(10326),r=t(13511),s=t(17577),n=t(91664),o=t(78062),d=t(29752),c=t(3594),l=t(38443);function u({onCheckoutClick:e}){let{cart:a,users:t,setActiveCartForCheckout:u,currentUser:p}=(0,r.a)(),m=(0,s.useMemo)(()=>a.reduce((e,a)=>{let i=a.product.providerId;return e[i]||(e[i]={provider:t.find(e=>e.id===i),items:[],subtotal:0,itemCount:0}),e[i].items.push(a),e[i].subtotal+=a.product.price*a.quantity,e[i].itemCount+=a.quantity,e},{}),[a,t]),f=a.reduce((e,a)=>e+a.product.price*a.quantity,0),h=a=>{u(a.items),e()};return(0,i.jsxs)("div",{className:"space-y-4",children:[i.jsx("div",{className:"max-h-60 overflow-y-auto space-y-3 pr-2",children:Object.values(m).map(({provider:e,items:a,subtotal:t,itemCount:r})=>i.jsx(d.Zb,{className:"p-3 relative group/provider-cart",children:(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{className:"flex items-center gap-2 overflow-hidden",children:[(0,i.jsxs)(c.qE,{className:"h-8 w-8",children:[i.jsx(c.F$,{src:e?.profileImage}),i.jsx(c.Q5,{children:e?.name?.charAt(0)})]}),(0,i.jsxs)("div",{className:"overflow-hidden",children:[i.jsx("p",{className:"font-semibold text-sm truncate",children:e?.name}),(0,i.jsxs)(l.C,{variant:"secondary",className:"text-xs",children:[r," producto(s)"]})]})]}),(0,i.jsxs)("div",{className:"text-right flex-shrink-0",children:[(0,i.jsxs)("p",{className:"font-bold text-sm",children:["$",t.toFixed(2)]}),i.jsx(n.z,{variant:"link",className:"p-0 h-auto text-xs",onClick:()=>h({items:a}),children:"Ver Prefactura"})]})]})},e?.id))}),i.jsx(o.Z,{}),(0,i.jsxs)("div",{className:"flex justify-between font-bold text-base",children:[i.jsx("span",{children:"Total Global:"}),(0,i.jsxs)("span",{children:["$",f.toFixed(2)]})]})]})}function p({onCheckoutClick:e}){let{cart:a}=(0,r.a)();return(0,i.jsxs)("div",{className:"grid gap-4",children:[(0,i.jsxs)("div",{className:"space-y-2",children:[i.jsx("h4",{className:"font-medium leading-none",children:"Carrito de Compras"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Gestiona tus compras por proveedor."})]}),a.length>0?i.jsx(u,{onCheckoutClick:e}):i.jsx("p",{className:"text-sm text-center text-muted-foreground py-4",children:"Tu carrito est\xe1 vac\xedo."})]})}},71497:(e,a,t)=>{"use strict";t.d(a,{z:()=>S});var i=t(10326),r=t(17577),s=t(13511),n=t(55296),o=t(91664),d=t(78062),c=t(73326),l=t(44794),u=t(11019),p=t(83855),m=t(46581),f=t(38787),h=t(33734),x=t(79635),b=t(42887),v=t(61655),g=t(35047),y=t(3282),w=t(24118),j=t(41190),I=t(46226),N=t(3236),P=t(94316),C=t(36969);function S({onOpenChange:e}){let{currentUser:a,users:t,deliveryAddress:S,setDeliveryAddressToCurrent:R,tempRecipientInfo:E,setTempRecipientInfo:k,activeCartForCheckout:_,setActiveCartForCheckout:D}=(0,s.a)(),A=(0,g.useRouter)();(0,g.useSearchParams)();let[$,T]=(0,r.useState)(()=>E?"other_address":"home"),[z,F]=(0,r.useState)(!1),[L,Z]=(0,r.useState)(E?.name||""),[O,M]=(0,r.useState)(E?.phone||""),[q,U]=(0,r.useState)(!1);if(!a||!_)return(0,i.jsxs)(n._T,{children:[(0,i.jsxs)(n.fY,{children:[i.jsx(n.f$,{children:"Error"}),i.jsx(n.yT,{children:"No se pudo encontrar el carrito. Por favor, intenta de nuevo."})]}),i.jsx(n.xo,{children:i.jsx(n.le,{onClick:()=>{e(!1),D(null)},children:"Cerrar"})})]});let B=_[0]?.product.providerId;if(!B)return null;let V=t.find(e=>e.id===B);if(!V)return null;let G=async()=>{a.id&&_&&B&&(await (0,P.JE)(a.id,B,$,z,E,S),e(!1),F(!1),k(null),D(null))},H=V.profileSetupData?.acceptsCredicora||!1,Q=V.profileSetupData?.hasPhysicalLocation||!1,Y=_.reduce((e,a)=>e+a.product.price*a.quantity,0),J=a.credicoraLevel||1,W=v.vl[J.toString()],K=a.credicoraLimit||0,X=1-W.initialPaymentPercentage,ee=z?Math.min(Y*X,K):0,ea=Y-ee+("pickup"===$?0:1.5),et=ee>0?ee/W.installments:0,ei="pickup"!==$&&!S;return(0,i.jsxs)(w.Vq,{open:q,onOpenChange:U,children:[(0,i.jsxs)(n._T,{className:"sm:max-w-md",children:[i.jsx(n.fY,{children:(0,i.jsxs)(n.f$,{children:["Confirmar Compra (",V.name,")"]})}),i.jsx("div",{className:"space-y-4 -mx-6 px-2",children:i.jsx(N.x,{className:"max-h-48 px-4",children:i.jsx("div",{className:"space-y-3",children:_.map(e=>(0,i.jsxs)("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"relative w-16 h-16 rounded-md overflow-hidden bg-muted flex-shrink-0",children:i.jsx(I.default,{src:e.product.imageUrl,alt:e.product.name,fill:!0,style:{objectFit:"cover"}})}),(0,i.jsxs)("div",{className:"flex-grow",children:[i.jsx("p",{className:"text-sm font-semibold line-clamp-1",children:e.product.name}),(0,i.jsxs)("p",{className:"text-sm text-muted-foreground",children:["$",e.product.price.toFixed(2)]})]}),(0,i.jsxs)("div",{className:"flex items-center gap-1",children:[i.jsx(o.z,{variant:"outline",size:"icon",className:"h-6 w-6",onClick:()=>(0,C.x)(a.id,e.product.id,e.quantity-1),children:i.jsx(u.Z,{className:"h-3 w-3"})}),i.jsx("span",{className:"font-bold text-sm w-4 text-center",children:e.quantity}),i.jsx(o.z,{variant:"outline",size:"icon",className:"h-6 w-6",onClick:()=>(0,C.x)(a.id,e.product.id,e.quantity+1),children:i.jsx(p.Z,{className:"h-3 w-3"})})]})]},e.product.id))})})}),(0,i.jsxs)("div",{className:"py-4 space-y-4",children:[(0,i.jsxs)("div",{className:"space-y-3",children:[i.jsx(l._,{children:"M\xe9todo de Entrega"}),(0,i.jsxs)(y.E,{value:$,onValueChange:e=>{"current_location"===e&&R(),"other_address"===e&&U(!0),T(e)},className:"space-y-2",children:[(0,i.jsxs)(l._,{htmlFor:"delivery-home",className:"flex items-center space-x-2 rounded-lg border p-3 cursor-pointer has-[:checked]:border-primary",children:[i.jsx(y.m,{value:"home",id:"delivery-home"}),(0,i.jsxs)("div",{className:"flex-grow",children:[i.jsx("p",{className:"font-semibold",children:"Mi direcci\xf3n guardada"}),i.jsx("p",{className:"text-xs text-muted-foreground font-mono truncate",children:a.profileSetupData?.location||"Sin direcci\xf3n guardada"})]})]}),(0,i.jsxs)(l._,{htmlFor:"delivery-current",className:"flex items-center space-x-2 rounded-lg border p-3 cursor-pointer has-[:checked]:border-primary",children:[i.jsx(y.m,{value:"current_location",id:"delivery-current"}),(0,i.jsxs)("p",{className:"font-semibold flex-grow flex items-center gap-2",children:[i.jsx(m.Z,{className:"w-4 h-4"})," Mi ubicaci\xf3n actual (GPS)"]})]}),(0,i.jsxs)(l._,{htmlFor:"delivery-other",className:"flex items-center space-x-2 rounded-lg border p-3 cursor-pointer has-[:checked]:border-primary",children:[i.jsx(y.m,{value:"other_address",id:"delivery-other"}),(0,i.jsxs)("div",{className:"flex-grow",children:[i.jsx("p",{className:"font-semibold",children:"Enviar a otra direcci\xf3n"}),"other_address"===$&&E&&S&&(0,i.jsxs)("div",{className:"text-xs text-muted-foreground mt-1 border-l-2 pl-2 border-primary",children:[(0,i.jsxs)("p",{children:["Para: ",i.jsx("strong",{children:E.name})," (",E.phone,")"]}),(0,i.jsxs)("p",{children:["En: ",i.jsx("span",{className:"font-mono",children:S})]})]})]})]}),Q&&(0,i.jsxs)(l._,{htmlFor:"delivery-pickup",className:"flex items-center space-x-2 rounded-lg border p-3 cursor-pointer has-[:checked]:border-primary",children:[i.jsx(y.m,{value:"pickup",id:"delivery-pickup"}),i.jsx("p",{className:"font-semibold flex-grow",children:"Recoger en tienda"}),i.jsx(f.Z,{className:"h-4 h-4 text-muted-foreground"})]})]})]}),i.jsx(d.Z,{}),(0,i.jsxs)("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{children:"Subtotal:"}),(0,i.jsxs)("span",{className:"font-semibold",children:["$",Y.toFixed(2)]})]}),(0,i.jsxs)("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{children:"Costo de env\xedo (aprox):"}),i.jsx("span",{className:"font-semibold",children:"pickup"===$?"$0.00":"$1.50"})]}),H&&(0,i.jsxs)("div",{className:"flex items-center justify-between pt-2 border-t mt-2",children:[(0,i.jsxs)(l._,{htmlFor:"credicora-switch",className:"flex items-center gap-2 text-blue-600 font-semibold",children:[i.jsx(h.Z,{className:"w-4 h-4 fill-current"}),"Pagar con Credicora"]}),i.jsx(c.r,{id:"credicora-switch",checked:z,onCheckedChange:F})]}),i.jsx(d.Z,{}),(0,i.jsxs)("div",{className:"flex justify-between text-lg font-bold",children:[i.jsx("span",{children:"Total a Pagar Hoy:"}),(0,i.jsxs)("span",{children:["$",z?ea.toFixed(2):(Y+("pickup"===$?0:1.5)).toFixed(2)]})]}),z&&ee>0&&(0,i.jsxs)("p",{className:"text-xs text-muted-foreground -mt-2 text-right",children:["y ",W.installments," cuotas de $",et.toFixed(2)]})]}),(0,i.jsxs)(n.xo,{children:[i.jsx(n.le,{onClick:()=>{e(!1),D(null)},children:"Cancelar"}),i.jsx(n.OL,{onClick:G,disabled:ei,children:"Pagar Ahora"})]})]}),(0,i.jsxs)(w.cZ,{children:[i.jsx(w.fK,{children:i.jsx(w.$N,{children:"\xbfQui\xe9n recibe el pedido?"})}),(0,i.jsxs)("div",{className:"space-y-4 py-4",children:[(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsxs)(l._,{htmlFor:"recipient-name",className:"flex items-center gap-2",children:[i.jsx(x.Z,{className:"w-4 h-4"})," Nombre completo"]}),i.jsx(j.I,{id:"recipient-name",value:L,onChange:e=>Z(e.target.value),placeholder:"Nombre y Apellido"})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsxs)(l._,{htmlFor:"recipient-phone",className:"flex items-center gap-2",children:[i.jsx(b.Z,{className:"w-4 h-4"})," Tel\xe9fono de contacto"]}),i.jsx(j.I,{id:"recipient-phone",type:"tel",value:O,onChange:e=>M(e.target.value),placeholder:"Ej: 04121234567"})]})]}),i.jsx(o.z,{onClick:()=>{L&&O&&(k({name:L,phone:O}),U(!1),e(!1),A.push("/map?fromMap=true"))},disabled:!L||!O,children:"Continuar al Mapa"})]})]})}},24609:(e,a,t)=>{"use strict";t.d(a,{ThemeProvider:()=>s});var i=t(10326),r=t(14831);function s({children:e,...a}){return i.jsx(r.f,{...a,children:e})}},55296:(e,a,t)=>{"use strict";t.d(a,{OL:()=>b,_T:()=>p,aR:()=>d,f$:()=>h,fY:()=>m,le:()=>v,vW:()=>c,xo:()=>f,yT:()=>x});var i=t(10326),r=t(17577),s=t(80440),n=t(51223),o=t(91664);let d=s.fC,c=s.xz,l=s.h_,u=r.forwardRef(({className:e,...a},t)=>i.jsx(s.aV,{className:(0,n.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...a,ref:t}));u.displayName=s.aV.displayName;let p=r.forwardRef(({className:e,...a},t)=>(0,i.jsxs)(l,{children:[i.jsx(u,{}),i.jsx(s.VY,{ref:t,className:(0,n.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...a})]}));p.displayName=s.VY.displayName;let m=({className:e,...a})=>i.jsx("div",{className:(0,n.cn)("flex flex-col space-y-2 text-center sm:text-left",e),...a});m.displayName="AlertDialogHeader";let f=({className:e,...a})=>i.jsx("div",{className:(0,n.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...a});f.displayName="AlertDialogFooter";let h=r.forwardRef(({className:e,...a},t)=>i.jsx(s.Dx,{ref:t,className:(0,n.cn)("text-lg font-semibold",e),...a}));h.displayName=s.Dx.displayName;let x=r.forwardRef(({className:e,...a},t)=>i.jsx(s.dk,{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",e),...a}));x.displayName=s.dk.displayName;let b=r.forwardRef(({className:e,...a},t)=>i.jsx(s.aU,{ref:t,className:(0,n.cn)((0,o.d)(),e),...a}));b.displayName=s.aU.displayName;let v=r.forwardRef(({className:e,...a},t)=>i.jsx(s.$j,{ref:t,className:(0,n.cn)((0,o.d)({variant:"outline"}),"mt-2 sm:mt-0",e),...a}));v.displayName=s.$j.displayName},33261:(e,a,t)=>{"use strict";t.d(a,{Cd:()=>c,X:()=>l,bZ:()=>d});var i=t(10326),r=t(17577),s=t(79360),n=t(51223);let o=(0,s.j)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive",warning:"border-amber-500/50 text-amber-700 dark:border-amber-600 dark:text-amber-500 [&>svg]:text-amber-600 dark:[&>svg]:text-amber-500"}},defaultVariants:{variant:"default"}}),d=r.forwardRef(({className:e,variant:a,...t},r)=>i.jsx("div",{ref:r,role:"alert",className:(0,n.cn)(o({variant:a}),e),...t}));d.displayName="Alert";let c=r.forwardRef(({className:e,...a},t)=>i.jsx("h5",{ref:t,className:(0,n.cn)("mb-1 font-medium leading-none tracking-tight",e),...a}));c.displayName="AlertTitle";let l=r.forwardRef(({className:e,...a},t)=>i.jsx("div",{ref:t,className:(0,n.cn)("text-sm [&_p]:leading-relaxed",e),...a}));l.displayName="AlertDescription"},3594:(e,a,t)=>{"use strict";t.d(a,{F$:()=>d,Q5:()=>c,qE:()=>o});var i=t(10326),r=t(17577),s=t(42851),n=t(51223);let o=r.forwardRef(({className:e,...a},t)=>i.jsx(s.fC,{ref:t,className:(0,n.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...a}));o.displayName=s.fC.displayName;let d=r.forwardRef(({className:e,src:a,...t},r)=>i.jsx(s.Ee,{ref:r,src:a||void 0,className:(0,n.cn)("aspect-square h-full w-full",e),...t}));d.displayName=s.Ee.displayName;let c=r.forwardRef(({className:e,...a},t)=>i.jsx(s.NY,{ref:t,className:(0,n.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...a}));c.displayName=s.NY.displayName},38443:(e,a,t)=>{"use strict";t.d(a,{C:()=>o});var i=t(10326);t(17577);var r=t(79360),s=t(51223);let n=(0,r.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function o({className:e,variant:a,...t}){return i.jsx("div",{className:(0,s.cn)(n({variant:a}),e),...t})}},91664:(e,a,t)=>{"use strict";t.d(a,{d:()=>d,z:()=>c});var i=t(10326),r=t(17577),s=t(34214),n=t(79360),o=t(51223);let d=(0,n.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=r.forwardRef(({className:e,variant:a,size:t,asChild:r=!1,...n},c)=>{let l=r?s.g7:"button";return i.jsx(l,{className:(0,o.cn)(d({variant:a,size:t,className:e})),ref:c,...n})});c.displayName="Button"},29752:(e,a,t)=>{"use strict";t.d(a,{Ol:()=>o,SZ:()=>c,Zb:()=>n,aY:()=>l,eW:()=>u,ll:()=>d});var i=t(10326),r=t(17577),s=t(51223);let n=r.forwardRef(({className:e,...a},t)=>i.jsx("div",{ref:t,className:(0,s.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...a}));n.displayName="Card";let o=r.forwardRef(({className:e,...a},t)=>i.jsx("div",{ref:t,className:(0,s.cn)("flex flex-col space-y-1.5 p-6",e),...a}));o.displayName="CardHeader";let d=r.forwardRef(({className:e,...a},t)=>i.jsx("h3",{ref:t,className:(0,s.cn)("text-2xl font-semibold leading-none tracking-tight",e),...a}));d.displayName="CardTitle";let c=r.forwardRef(({className:e,...a},t)=>i.jsx("p",{ref:t,className:(0,s.cn)("text-sm text-muted-foreground",e),...a}));c.displayName="CardDescription";let l=r.forwardRef(({className:e,...a},t)=>i.jsx("div",{ref:t,className:(0,s.cn)("p-6 pt-0",e),...a}));l.displayName="CardContent";let u=r.forwardRef(({className:e,...a},t)=>i.jsx("div",{ref:t,className:(0,s.cn)("flex items-center p-6 pt-0",e),...a}));u.displayName="CardFooter"},24118:(e,a,t)=>{"use strict";t.d(a,{$N:()=>x,Be:()=>b,GG:()=>u,Vq:()=>d,cN:()=>h,cZ:()=>m,fK:()=>f,hg:()=>c});var i=t(10326),r=t(17577),s=t(98958),n=t(94019),o=t(51223);let d=s.fC,c=s.xz,l=s.h_,u=s.x8,p=r.forwardRef(({className:e,...a},t)=>i.jsx(s.aV,{ref:t,className:(0,o.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...a}));p.displayName=s.aV.displayName;let m=r.forwardRef(({className:e,children:a,...t},r)=>(0,i.jsxs)(l,{children:[i.jsx(p,{}),(0,i.jsxs)(s.VY,{ref:r,className:(0,o.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t,children:[a,(0,i.jsxs)(s.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[i.jsx(n.Z,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));m.displayName=s.VY.displayName;let f=({className:e,...a})=>i.jsx("div",{className:(0,o.cn)("flex flex-col space-y-1.5 text-center sm:text-left",e),...a});f.displayName="DialogHeader";let h=({className:e,...a})=>i.jsx("div",{className:(0,o.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...a});h.displayName="DialogFooter";let x=r.forwardRef(({className:e,...a},t)=>i.jsx(s.Dx,{ref:t,className:(0,o.cn)("text-lg font-semibold leading-none tracking-tight",e),...a}));x.displayName=s.Dx.displayName;let b=r.forwardRef(({className:e,...a},t)=>i.jsx(s.dk,{ref:t,className:(0,o.cn)("text-sm text-muted-foreground",e),...a}));b.displayName=s.dk.displayName},41190:(e,a,t)=>{"use strict";t.d(a,{I:()=>n});var i=t(10326),r=t(17577),s=t(51223);let n=r.forwardRef(({className:e,type:a,...t},r)=>i.jsx("input",{type:a,className:(0,s.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));n.displayName="Input"},44794:(e,a,t)=>{"use strict";t.d(a,{_:()=>c});var i=t(10326),r=t(17577),s=t(34478),n=t(79360),o=t(51223);let d=(0,n.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=r.forwardRef(({className:e,...a},t)=>i.jsx(s.f,{ref:t,className:(0,o.cn)(d(),e),...a}));c.displayName=s.f.displayName},51027:(e,a,t)=>{"use strict";t.d(a,{J2:()=>o,xo:()=>d,yk:()=>c});var i=t(10326),r=t(17577),s=t(74964),n=t(51223);let o=s.fC,d=s.xz,c=r.forwardRef(({className:e,align:a="center",sideOffset:t=4,...r},o)=>i.jsx(s.h_,{children:i.jsx(s.VY,{ref:o,align:a,sideOffset:t,className:(0,n.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));c.displayName=s.VY.displayName},3282:(e,a,t)=>{"use strict";t.d(a,{E:()=>d,m:()=>c});var i=t(10326),r=t(17577),s=t(18623),n=t(53982),o=t(51223);let d=r.forwardRef(({className:e,...a},t)=>i.jsx(s.fC,{className:(0,o.cn)("grid gap-2",e),...a,ref:t}));d.displayName=s.fC.displayName;let c=r.forwardRef(({className:e,...a},t)=>i.jsx(s.ck,{ref:t,className:(0,o.cn)("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...a,children:i.jsx(s.z$,{className:"flex items-center justify-center",children:i.jsx(n.Z,{className:"h-2.5 w-2.5 fill-current text-current"})})}));c.displayName=s.ck.displayName},3236:(e,a,t)=>{"use strict";t.d(a,{x:()=>o});var i=t(10326),r=t(17577),s=t(16999),n=t(51223);let o=r.forwardRef(({className:e,children:a,...t},r)=>(0,i.jsxs)(s.fC,{ref:r,className:(0,n.cn)("relative overflow-hidden",e),...t,children:[i.jsx(s.l_,{className:"h-full w-full rounded-[inherit]",children:a}),i.jsx(d,{}),i.jsx(s.Ns,{})]}));o.displayName=s.fC.displayName;let d=r.forwardRef(({className:e,orientation:a="vertical",...t},r)=>i.jsx(s.gb,{ref:r,orientation:a,className:(0,n.cn)("flex touch-none select-none transition-colors","vertical"===a&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===a&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...t,children:i.jsx(s.q4,{className:"relative flex-1 rounded-full bg-border"})}));d.displayName=s.gb.displayName},78062:(e,a,t)=>{"use strict";t.d(a,{Z:()=>o});var i=t(10326),r=t(17577),s=t(90220),n=t(51223);let o=r.forwardRef(({className:e,orientation:a="horizontal",decorative:t=!0,...r},o)=>i.jsx(s.f,{ref:o,decorative:t,orientation:a,className:(0,n.cn)("shrink-0 bg-border","horizontal"===a?"h-[1px] w-full":"h-full w-[1px]",e),...r}));o.displayName=s.f.displayName},73326:(e,a,t)=>{"use strict";t.d(a,{r:()=>o});var i=t(10326),r=t(17577),s=t(41959),n=t(51223);let o=r.forwardRef(({className:e,...a},t)=>i.jsx(s.fC,{className:(0,n.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...a,ref:t,children:i.jsx(s.bU,{className:(0,n.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));o.displayName=s.fC.displayName},82015:(e,a,t)=>{"use strict";t.d(a,{g:()=>n});var i=t(10326),r=t(17577),s=t(51223);let n=r.forwardRef(({className:e,...a},t)=>i.jsx("textarea",{className:(0,s.cn)("flex min-h-[60px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:t,...a}));n.displayName="Textarea"},40422:(e,a,t)=>{"use strict";t.d(a,{Toaster:()=>b});var i=t(10326),r=t(17577),s=t(10321),n=t(79360),o=t(94019),d=t(51223);let c=s.zt,l=r.forwardRef(({className:e,...a},t)=>i.jsx(s.l_,{ref:t,className:(0,d.cn)("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...a}));l.displayName=s.l_.displayName;let u=(0,n.j)("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),p=r.forwardRef(({className:e,variant:a,...t},r)=>i.jsx(s.fC,{ref:r,className:(0,d.cn)(u({variant:a}),e),...t}));p.displayName=s.fC.displayName,r.forwardRef(({className:e,...a},t)=>i.jsx(s.aU,{ref:t,className:(0,d.cn)("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...a})).displayName=s.aU.displayName;let m=r.forwardRef(({className:e,...a},t)=>i.jsx(s.x8,{ref:t,className:(0,d.cn)("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...a,children:i.jsx(o.Z,{className:"h-4 w-4"})}));m.displayName=s.x8.displayName;let f=r.forwardRef(({className:e,...a},t)=>i.jsx(s.Dx,{ref:t,className:(0,d.cn)("text-sm font-semibold",e),...a}));f.displayName=s.Dx.displayName;let h=r.forwardRef(({className:e,...a},t)=>i.jsx(s.dk,{ref:t,className:(0,d.cn)("text-sm opacity-90",e),...a}));h.displayName=s.dk.displayName;var x=t(84097);function b(){let{toasts:e}=(0,x.pm)();return(0,i.jsxs)(c,{children:[e.map(function({id:e,title:a,description:t,action:r,...s}){return(0,i.jsxs)(p,{...s,children:[(0,i.jsxs)("div",{className:"grid gap-1",children:[a&&i.jsx(f,{children:a}),t&&i.jsx(h,{children:t})]}),r,i.jsx(m,{})]},e)}),i.jsx(l,{})]})}},13511:(e,a,t)=>{"use strict";t.d(a,{AuthProvider:()=>h,a:()=>f});var i=t(10326),r=t(17577),s=t(5779),n=t(6708),o=t(46419),d=t(84097),c=t(35047),l=t(76),u=t(97848),p=t(31237);let m=(0,r.createContext)(void 0),f=()=>{let e=(0,r.useContext)(m);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e},h=({children:e})=>{let[a,t]=(0,r.useState)(null),[f,h]=(0,r.useState)(null),[x,b]=(0,r.useState)(!0),{toast:v}=(0,d.pm)(),g=(0,c.useRouter)(),y=(0,c.usePathname)(),[w,j]=(0,r.useState)([]),[I,N]=(0,r.useState)([]),[P,C]=(0,r.useState)([]),[S,R]=(0,r.useState)([]),[E,k]=(0,r.useState)([]),[_,D]=(0,r.useState)([]),[A,$]=(0,r.useState)([]),[T,z]=(0,r.useState)(null),[F,L]=(0,r.useState)(null),[Z,O]=(0,r.useState)(null),[M,q]=(0,r.useState)(""),[U,B]=(0,r.useState)(null),[V,G]=(0,r.useState)(""),[H,Q]=(0,r.useState)(null),[Y,J]=(0,r.useState)([]);(0,r.useEffect)(()=>{},[]),(0,r.useEffect)(()=>{let e=(0,s.Aj)(n.I8,async e=>{if(t(e),e){let a={uid:e.uid,email:e.email,displayName:e.displayName,photoURL:e.photoURL,emailVerified:e.emailVerified};await (0,o.Ie)(a);let t=(0,l.JU)(n.db,"users",e.uid),i=(0,l.cf)(t,e=>{if(e.exists()){let a=e.data();if(h(a),R(a.cart||[]),a.contacts&&a.contacts.length>0){let e=(0,l.IO)((0,l.hJ)(n.db,"users"),(0,l.ar)("id","in",a.contacts));(0,l.cf)(e,e=>{k(e.docs.map(e=>e.data()))})}else k([])}b(!1)}),r=(0,l.cf)((0,l.hJ)(n.db,"users"),e=>j(e.docs.map(e=>e.data()))),s=(0,l.cf)((0,l.IO)((0,l.hJ)(n.db,"transactions"),(0,l.ar)("participantIds","array-contains",e.uid)),e=>N(e.docs.map(e=>e.data()).sort((e,a)=>new Date(a.date).getTime()-new Date(e.date).getTime()))),d=(0,l.cf)((0,l.IO)((0,l.hJ)(n.db,"notifications"),(0,l.ar)("userId","==",e.uid),(0,l.Xo)("timestamp","desc")),e=>D(e.docs.map(e=>e.data()))),c=(0,l.cf)((0,l.IO)((0,l.hJ)(n.db,"conversations"),(0,l.ar)("participantIds","array-contains",e.uid)),e=>$(e.docs.map(e=>e.data()))),u=(0,l.cf)((0,l.IO)((0,l.hJ)(n.db,"qr_sessions"),(0,l.ar)("participantIds","array-contains",e.uid),(0,l.ar)("status","in",["active","pending"])),e=>z(e.empty?null:e.docs[0].data())),p=(0,l.cf)((0,l.hJ)(n.db,"publications"),e=>C(e.docs.map(e=>e.data())));return()=>{i(),r(),s(),d(),c(),u(),p()}}h(null),b(!1),j([]),N([]),R([]),k([]),D([]),$([]),z(null),C([])});return()=>e()},[]),(0,r.useEffect)(()=>{if(x)return;let e="/login"===y,a=y.startsWith("/profile-setup");f||e?!f||f.isInitialSetupComplete||a?f&&f.isInitialSetupComplete&&(e||a)&&g.push("/"):g.push("/profile-setup"):g.push("/login")},[f,x,y,g]);let W=(0,r.useCallback)(async()=>{try{await (0,s.w7)(n.I8),await (0,o.Rf)(),g.push("/login")}catch(e){v({variant:"destructive",title:"Error",description:"No se pudo cerrar la sesi\xf3n."})}},[g,v]),K=(0,r.useCallback)(e=>f?.contacts?.includes(e)??!1,[f?.contacts]),X=(0,r.useCallback)(async e=>{if(f)try{let a=f.contacts?.filter(a=>a!==e)??[];await (0,u.Nq)(f.id,{contacts:a}),v({title:"Contacto eliminado",description:"El contacto ha sido eliminado de tu lista."})}catch(e){v({variant:"destructive",title:"Error",description:"No se pudo eliminar el contacto."})}},[f,v]),ee=(0,r.useCallback)(()=>new Promise((e,a)=>{{let e=Error("Geolocation is not supported by this browser.");v({variant:"destructive",title:"Error de Ubicaci\xf3n",description:e.message}),a(e)}}),[f?.id,v]),ea=(0,r.useCallback)(async()=>{if(U){q(`${U.latitude},${U.longitude}`);return}try{let e=await ee();q(`${e.latitude},${e.longitude}`)}catch(e){}},[U,ee]),et=(0,r.useCallback)((e,a,t)=>{let i=t.filter(a=>(a.clientId===e||a.providerId===e)&&["Pagado","Resuelto"].includes(a.status)),r=i.filter(e=>"provider"===a?e.details.clientRating:e.details.providerRating),s=r.reduce((e,t)=>e+("provider"===a?t.details.clientRating:t.details.providerRating),0),n=r.length>0?s/r.length:5,o=t.filter(a=>(a.clientId===e||a.providerId===e)&&"Sistema"!==a.type).length,d=o>0?i.length/o*100:100,c=t.filter(a=>a.providerId===e&&a.details.paymentSentAt&&a.details.paymentConfirmationDate).map(e=>(0,p._)(new Date(e.details.paymentConfirmationDate),new Date(e.details.paymentSentAt))),l=c.length>0?c.reduce((e,a)=>e+a,0)/c.length:0;return{reputation:isNaN(n)?5:n,effectiveness:isNaN(d)?100:Math.min(d,100),averagePaymentTimeMs:l}},[]),ei=(0,r.useCallback)(e=>e.filter(e=>["Finalizado - Pendiente de Pago","Cita Solicitada"].includes(e.status)).map(e=>({date:new Date(e.date),type:"Finalizado - Pendiente de Pago"===e.status?"payment":"appointment",transactionId:e.id})),[]);return i.jsx(m.Provider,{value:{firebaseUser:a,currentUser:f,isLoadingAuth:x,logout:W,setCurrentUser:h,contacts:E,isContact:K,removeContact:X,users:w,transactions:I,setTransactions:N,allPublications:P,setAllPublications:C,cart:S,activeCartForCheckout:F,setActiveCartForCheckout:L,tempRecipientInfo:Z,setTempRecipientInfo:O,deliveryAddress:M,setDeliveryAddress:q,setDeliveryAddressToCurrent:ea,currentUserLocation:U,getCurrentLocation:ee,searchQuery:V,setSearchQuery:G,categoryFilter:H,setCategoryFilter:Q,searchHistory:Y,clearSearchHistory:()=>{},addSearchToHistory:e=>{},notifications:_,conversations:A,qrSession:T,getUserMetrics:et,getAgendaEvents:ei},children:e})}},84097:(e,a,t)=>{"use strict";t.d(a,{pm:()=>p});var i=t(17577);let r=0,s=new Map,n=e=>{if(s.has(e))return;let a=setTimeout(()=>{s.delete(e),l({type:"REMOVE_TOAST",toastId:e})},5e3);s.set(e,a)},o=(e,a)=>{switch(a.type){case"ADD_TOAST":return{...e,toasts:[a.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===a.toast.id?{...e,...a.toast}:e)};case"DISMISS_TOAST":{let{toastId:t}=a;return t?n(t):e.toasts.forEach(e=>{n(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===t||void 0===t?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===a.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==a.toastId)}}},d=[],c={toasts:[]};function l(e){c=o(c,e),d.forEach(e=>{e(c)})}function u({...e}){let a=(r=(r+1)%Number.MAX_SAFE_INTEGER).toString(),t=()=>l({type:"DISMISS_TOAST",toastId:a});return l({type:"ADD_TOAST",toast:{...e,id:a,open:!0,onOpenChange:e=>{e||t()}}}),{id:a,dismiss:t,update:e=>l({type:"UPDATE_TOAST",toast:{...e,id:a}})}}function p(){let[e,a]=i.useState(c);return i.useEffect(()=>(d.push(a),()=>{let e=d.indexOf(a);e>-1&&d.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>l({type:"DISMISS_TOAST",toastId:e})}}},46419:(e,a,t)=>{"use strict";t.d(a,{Ie:()=>s,Rf:()=>r,y$:()=>n}),t(15424);var i=t(46242),r=(0,i.$)("92acb34382b7cc06f4de5ac34a55db761fb52098"),s=(0,i.$)("d3324d6c83f3a3db02622507b4b401ba56959940");(0,i.$)("75f66e5bfcc5802b933cf6bb3a81d2e6fb71f193");var n=(0,i.$)("0fcca1ef621d98be26c0bfcf3d0536b2eafaf90b")},36969:(e,a,t)=>{"use strict";t.d(a,{x:()=>i}),t(15424);var i=(0,t(46242).$)("58916f5aa51f5451dd6608a06048fa71b5001e5a")},80980:(e,a,t)=>{"use strict";t.d(a,{Ck:()=>o,Fn:()=>c,Ms:()=>s,nd:()=>d,ry:()=>n,yT:()=>r}),t(15424);var i=t(46242),r=(0,i.$)("1e07348ea432662ad092ac802f4a5c62c0b6584a"),s=(0,i.$)("feab6f8fe3596605c3a56acf95b545caf1fe8f10"),n=(0,i.$)("097b808e0ece62513ed2a928f4e9a74b2f5cd67b"),o=(0,i.$)("6970a6d88c9c6363fee8be49e1b820441b76289d"),d=(0,i.$)("911f01a7adbee5e89e0dc6003ef17b4f0ac1f24c"),c=(0,i.$)("d10c5b0c5dc185c0719b914043fd17b76a901250")},94316:(e,a,t)=>{"use strict";t.d(a,{$1:()=>s,JE:()=>d,Ku:()=>u,R7:()=>b,RU:()=>r,ec:()=>h,g4:()=>o,hD:()=>l,k:()=>m,kQ:()=>p,qO:()=>c,tY:()=>n,vH:()=>f,x3:()=>x}),t(15424);var i=t(46242),r=(0,i.$)("97ae364a62d4df2288a07a620d912ce0ac96b58c"),s=(0,i.$)("159b2fe09127c5bd3daae38e767205dac7d77cab"),n=(0,i.$)("def0aa2b8b4ea6c1e06bbb61a801cf9d7db8217f"),o=(0,i.$)("eb08ed1ec3e7601b9657c9104751f4cd16e193bf"),d=(0,i.$)("7ffaf3cdca4e8bfa88f07bb6fd67ea5a48706373"),c=(0,i.$)("4ba72153081d80db8eb0c1d6fd08c42be123a593"),l=(0,i.$)("862bc6f0e45e133730d43c165242b63549e8d6ef"),u=(0,i.$)("325dc1f7f655917be2c16c7e98b2d1937c654384"),p=(0,i.$)("627bffb6d24f861e176920b8fac8e87d263c0e39"),m=(0,i.$)("b436050b9f6ea9d78925f00d451d2f9caa7fe276"),f=(0,i.$)("87e287519cb1cf3861ceab331f0ef39f9649c540"),h=(0,i.$)("683f24dbc04449f1048d22803857dd2e140d0626");(0,i.$)("2b06f3a3c6bc1d56ad79fe0105b23730fc59fc3c");var x=(0,i.$)("68e7dcb5930b2f1144a87059acc32941a426a6ba");(0,i.$)("ffe6118251cbf259f053f1ac31bb9bf4df292901");var b=(0,i.$)("2f895fe1b49f74d13cc6d7f8c94cf7264d1a290d")},97848:(e,a,t)=>{"use strict";t.d(a,{B3:()=>m,CU:()=>c,Gh:()=>u,JM:()=>d,M6:()=>o,Nq:()=>r,Pd:()=>s,Q8:()=>p,xb:()=>l,zz:()=>n}),t(15424);var i=t(46242);(0,i.$)("f2adee7cf4f2f8b5b2ceee6347d65222ab445eb7");var r=(0,i.$)("5490e0fd1c242a5eef82e0a3ff2c7cb530d9e533"),s=(0,i.$)("88599a77cbf14a811bcc0d4db954c292e07a6abc"),n=(0,i.$)("86ad7b8d8be30d4d4c2808f5bbf0e5d8e49ba32a"),o=(0,i.$)("d3b29fd6112ff6850dece7a05d126c764332b184");(0,i.$)("9011e4229b8124357687ad18fd8d6620369c6645");var d=(0,i.$)("b6340bdf49ffb4d7a7d472365ccd4c5bb696fb65"),c=(0,i.$)("9dbd3aa17f1b0d765a1019942ecab992f84521ef"),l=(0,i.$)("e86019e14c4860bd9cb7e35ea4e6b273f001c319"),u=(0,i.$)("f1a5672380f0c97ae05054afe728fa52f5b897d1"),p=(0,i.$)("453545b1b78662b98891491ec49e72197e0e6598");(0,i.$)("7f3879fcde338c8e9e9f8b6e19e6e4358bb243bd");var m=(0,i.$)("6a3ff619f9bdd51def8f22d0234148dfd9e9330e")},61655:(e,a,t)=>{"use strict";t.d(a,{CN:()=>n,Jw:()=>l,Lp:()=>r,R2:()=>s,V4:()=>o,hW:()=>d,vl:()=>c,yS:()=>i});let i=["Banco de Venezuela","Banesco","Banco Mercantil","Banco Provincial","BOD","BNC","Banco del Tesoro","Bicentenario Banco Universal","Banplus","Bancaribe","Banco Sofitasa","Banco Plaza","100% Banco","Mi Banco","Bancrecer","Otros"],r=[{id:"Hogar y Reparaciones",name:"Hogar y Reparaciones",description:"Plomer\xeda, electricidad, jardiner\xeda..."},{id:"Tecnolog\xeda y Soporte",name:"Tecnolog\xeda y Soporte",description:"Reparaci\xf3n de PC, redes, dise\xf1o..."},{id:"Automotriz y Repuestos",name:"Automotriz y Repuestos",description:"Mec\xe1nica, repuestos, latoner\xeda..."},{id:"Alimentos y Restaurantes",name:"Alimentos y Restaurantes",description:"Restaurantes, catering, mercados..."},{id:"Transporte y Asistencia",name:"Transporte y Asistencia",description:"Gr\xfaas, ambulancias, fletes, mudanzas..."},{id:"Salud y Bienestar",name:"Salud y Bienestar",description:"Fisioterapia, nutrici\xf3n, entrenadores..."},{id:"Turismo y Estad\xedas",name:"Turismo y Estad\xedas",description:"Hoteles, posadas, tours, paquetes..."},{id:"Educaci\xf3n",name:"Educaci\xf3n",description:"Tutor\xedas, clases, cursos..."},{id:"Eventos",name:"Eventos",description:"Fotograf\xeda, catering, m\xfasica..."},{id:"Belleza",name:"Belleza",description:"Peluquer\xeda, maquillaje, spa..."}],s=["Mec\xe1nica General","Latoner\xeda y Pintura","Cauchera","Electroauto","Venta de Repuestos","Aire Acondicionado"],n=["Manicure","Pedicure","Estilismo","Maquillaje","Depilaci\xf3n","Masajes"],o=["Plomer\xeda","Electricidad","Alba\xf1iler\xeda","Carpinter\xeda","Jardiner\xeda","Pintura"],d=[{code:"VE",name:"Venezuela",idLabel:"C\xe9dula de Identidad",companyIdLabel:"RIF",ivaRate:.16},{code:"CO",name:"Colombia",idLabel:"C\xe9dula de Ciudadan\xeda",companyIdLabel:"NIT",ivaRate:.19},{code:"CL",name:"Chile",idLabel:"RUT / DNI",companyIdLabel:"RUT",ivaRate:.19},{code:"ES",name:"Espa\xf1a",idLabel:"DNI / NIE",companyIdLabel:"NIF",ivaRate:.21},{code:"MX",name:"M\xe9xico",idLabel:"CURP",companyIdLabel:"RFC",ivaRate:.16}],c={1:{level:1,name:"Alfa",color:"210 90% 54%",creditLimit:150,initialPaymentPercentage:.6,installments:3,transactionsForNextLevel:25},2:{level:2,name:"Delta",color:"262 84% 58%",creditLimit:200,initialPaymentPercentage:.5,installments:6,transactionsForNextLevel:40},3:{level:3,name:"Lambda",color:"322 84% 58%",creditLimit:300,initialPaymentPercentage:.4,installments:9,transactionsForNextLevel:60},4:{level:4,name:"Sigma",color:"25 95% 53%",creditLimit:600,initialPaymentPercentage:.3,installments:12,transactionsForNextLevel:80},5:{level:5,name:"Omega",color:"45 93% 47%",creditLimit:1e3,initialPaymentPercentage:0,installments:18,transactionsForNextLevel:150}},l={1:{level:1,name:"Bronce",color:"27 54% 33%",creditLimit:500,initialPaymentPercentage:.5,installments:4,transactionsForNextLevel:50},2:{level:2,name:"Plata",color:"220 13% 69%",creditLimit:750,initialPaymentPercentage:.45,installments:8,transactionsForNextLevel:75},3:{level:3,name:"Oro",color:"45 93% 47%",creditLimit:1e3,initialPaymentPercentage:.35,installments:12,transactionsForNextLevel:100},4:{level:4,name:"Platino",color:"220 13% 91%",creditLimit:1500,initialPaymentPercentage:.25,installments:18,transactionsForNextLevel:150},5:{level:5,name:"Diamante",color:"207 90% 54%",creditLimit:2e3,initialPaymentPercentage:.2,installments:24,transactionsForNextLevel:250}}},6708:(e,a,t)=>{"use strict";t.d(a,{I8:()=>d,db:()=>c,Vv:()=>l});var i=t(42585),r=t(5779),s=t(76),n=t(11552);let o=(0,i.C6)().length?(0,i.Mq)():(0,i.ZF)({apiKey:"AIzaSyDYfiqZNb-T1CB4lVe3bPCmpnVH2OWhaLY",authDomain:"127.0.0.1",projectId:"corabo-dc0a9",storageBucket:"corabo-dc0a9.firebasestorage.app",messagingSenderId:"752314666658",appId:"1:752314666658:web:3f1d9f1e15bc942bc2d1fb",measurementId:"G-RY9MYEBX4K"}),d=(0,r.v0)(o),c=(0,s.ad)(o);(0,n.cF)(o);let l=new r.hJ},51223:(e,a,t)=>{"use strict";t.d(a,{cn:()=>s,x:()=>n});var i=t(41135),r=t(31009);function s(...e){return(0,r.m6)((0,i.W)(e))}function n(e,a,t,i){let r=Math.PI/180*(t-e),s=Math.PI/180*(i-a),n=Math.sin(r/2)*Math.sin(r/2)+Math.cos(Math.PI/180*e)*Math.cos(Math.PI/180*t)*Math.sin(s/2)*Math.sin(s/2);return 2*Math.atan2(Math.sqrt(n),Math.sqrt(1-n))*6371}},70254:(e,a,t)=>{"use strict";t.d(a,{L:()=>n});var i=t(27745);t(26461);var r=t(11667),s=t(85723);async function n(e,a){let t=e.collection("users").doc(a.userId),i=await t.get();if(!i.exists)throw Error("User not found.");let r=i.data().cart||[],s=r.findIndex(e=>e.product.id===a.productId);if(s>-1)a.newQuantity>0?r[s].quantity=a.newQuantity:r.splice(s,1);else if(a.newQuantity>0){let t=e.collection("publications").doc(a.productId),i=await t.get();if(!i.exists||i.data()?.type!=="product")throw Error("Product not found.");let s=i.data();if(!s)throw Error("Product data is missing after existence check.");let n={id:i.id,name:s.productDetails?.name||"Producto sin nombre",description:s.description,price:s.productDetails?.price||0,category:s.productDetails?.category||"General",providerId:s.providerId,imageUrl:s.src};r.push({product:n,quantity:a.newQuantity})}await t.update({cart:r})}r.Ry({userId:r.Z_(),productId:r.Z_(),newQuantity:r.Rx().int().min(0)}),(0,s.h)([n]),(0,i.j)("cd13ac489ba9f43f7ee9f785cd08ae8e6776b54e",n)},20147:(e,a,t)=>{"use strict";t.a(e,async(e,i)=>{try{t.d(a,{Cg:()=>m,UQ:()=>h,Z1:()=>u,aD:()=>f,w2:()=>p});var r=t(27745);t(26461);var s=t(11667),n=t(43811),o=t(28504),d=t(9698),c=t(85723),l=e([o]);o=(l.then?(await l)():l)[0],s.Ry({transactionId:s.Z_()});let x=e=>new Promise(a=>setTimeout(a,e));async function u({distanceInKm:e}){return Math.round(1*e*100)/100}async function p(e,{transactionId:a}){let t=e.collection("transactions").doc(a),i=await t.get();if(!i.exists)throw Error("Transaction not found");let r=i.data(),s=e.collection("users").doc(r.providerId),c=await s.get();if(!c.exists||!c.data()?.profileSetupData?.location)throw Error("Provider location not found");let[l,u]=c.data().profileSetupData.location.split(",").map(Number),p=0;for(;p<3;){p++;let a=e.collection("users").where("type","==","repartidor").where("isGpsActive","==",!0),i=(await a.get()).docs.map(e=>e.data()).filter(e=>{if(!e.profileSetupData?.location)return!1;let[a,t]=e.profileSetupData.location.split(",").map(Number);return 3>=(0,n.x)(l,u,a,t)});if(i.length>0){let a=i[0];await t.update({"details.deliveryProviderId":a.id,status:"En Reparto"}),await (0,o.i)(e,{conversationId:[r.providerId,a.id].sort().join("-"),senderId:r.providerId,recipientId:a.id,text:`\xa1Nuevo pedido para entregar! ID: \${transactionId}. Por favor, ac\xe9ptalo en tu panel de transacciones.`});return}p<3&&await x(1e4)}await t.update({status:"Error de Delivery - Acci\xf3n Requerida"}),await (0,d.i6)(e,{userId:r.providerId,type:"admin_alert",title:"Error en Asignaci\xf3n de Delivery",message:`No pudimos encontrar un repartidor para la orden \${transaction.id.slice(-6)}. Revisa la transacci\xf3n para elegir una alternativa.`,link:"/transactions?tx=${transaction.id}"})}async function m(e,{transactionId:a}){let t=e.batch(),i=e.collection("transactions").doc(a),r=await i.get();if(!r.exists)throw Error("Transaction not found");let s=r.data();if(t.update(i,{status:"Listo para Retirar en Tienda","details.delivery.method":"pickup"}),s.details.deliveryCost&&s.details.deliveryCost>0){let a="txn-refund-${transactionId.slice(-6)}",i={id:a,type:"Sistema",status:"Finalizado - Pendiente de Pago",date:new Date().toISOString(),amount:s.details.deliveryCost,clientId:s.providerId,providerId:s.clientId,participantIds:[s.providerId,s.clientId],details:{system:"Reembolso por delivery fallido (Tx: ${transactionId})"}};t.set(e.collection("transactions").doc(a),i)}await (0,o.i)(e,{conversationId:[s.providerId,s.clientId].sort().join("-"),senderId:s.providerId,recipientId:s.clientId,text:`\xa1Hola! Tuvimos un inconveniente para encontrar un repartidor. Tu pedido ha sido actualizado y ya puedes pasar a retirarlo por nuestra tienda. Si pagaste por el env\xedo, hemos creado un compromiso de reembolso.`}),await t.commit()}async function f(e,a){let t=e.collection("transactions").doc(a.transactionId);await t.update({"details.deliveryProviderId":a.providerId,status:"En Reparto"});let i=(await t.get()).data();await (0,d.i6)(e,{userId:i.clientId,type:"admin_alert",title:"\xa1Tu pedido va en camino!",message:"Un repartidor ha aceptado tu pedido y se dirige a recogerlo.",link:"/transactions?tx=${input.transactionId}"})}async function h(e,a){let t=e.collection("transactions").doc(a.transactionId),i=(await t.get()).data();if(i.details.deliveryCost){let a=.85*i.details.deliveryCost,t={id:"txn-delivery-comm-${transaction.id.slice(-6)}",type:"Sistema",status:"Pagado",date:new Date().toISOString(),amount:a,clientId:i.details.deliveryProviderId,providerId:"corabo-admin",participantIds:[i.details.deliveryProviderId,"corabo-admin"],details:{system:`Comisi\xf3n por entrega (Tx: \${transaction.id.slice(-6)})`}};await e.collection("transactions").doc(t.id).set(t)}await t.update({status:"Pagado","details.delivery.status":"Entregado"}),await (0,d.i6)(e,{userId:i.clientId,type:"admin_alert",title:"\xa1Pedido Entregado!",message:`Tu pedido ha sido entregado exitosamente. \xa1Gracias por usar Corabo!`,link:"/transactions?tx=${input.transactionId}"})}(0,c.h)([u,p,m,f,h]),(0,r.j)("ea376e4518cf27908fd69558d1740bba58685c20",u),(0,r.j)("a130b1b2669614cf8580d73410fa802affbdf177",p),(0,r.j)("5bc82149757c7d9d8ea251258d2efcb3ccdb2e3b",m),(0,r.j)("e57b741a126077f2044719e636b9290afb5c6a06",f),(0,r.j)("395a60fbb13c9e4d16639ecf5788d8ef1eb0b81c",h),i()}catch(e){i(e)}})},16493:(e,a,t)=>{"use strict";t.d(a,{f:()=>o});var i=t(27745);t(26461);var r=t(11667),s=t(30207),n=t(85723);async function o(){return(0,s.unstable_cache)(async()=>({rate:36.54}),["exchange-rate-cache"],{revalidate:14400,tags:["exchange-rate"]})()}r.Ry({rate:r.Rx()}),(0,n.h)([o]),(0,i.j)("bdb596d76cd7cffa158e7e931cb36008d0ed15a5",o)},28504:(e,a,t)=>{"use strict";t.a(e,async(e,i)=>{try{t.d(a,{L:()=>u,i:()=>l});var r=t(27745);t(26461);var s=t(11667),n=t(72929),o=t(50604),d=t(85723),c=e([n,o]);async function l(e,a){let t=e.collection("conversations").doc(a.conversationId),i=await t.get(),r={id:`msg-${Date.now()}`,senderId:a.senderId,timestamp:new Date().toISOString(),text:a.text||"",isProposalAccepted:!1,isRead:!1};if(a.proposal?(r.type="proposal",r.proposal=a.proposal):a.location?(r.type="location",r.location=a.location):r.type="text",i.exists){let e=i.data();if(!e.participantIds?.includes(a.senderId))throw Error("Sender is not a participant of this conversation.");await t.update({messages:n.FieldValue.arrayUnion(r),lastUpdated:new Date().toISOString()})}else{let i=await e.collection("users").doc(a.senderId).get(),s=await e.collection("users").doc(a.recipientId).get();if(!i.exists||!s.exists)throw Error("Sender or Recipient not found for new conversation.");let n=i.data(),o=s.data();await t.set({id:a.conversationId,participantIds:[a.senderId,a.recipientId].sort(),participants:{[n.id]:{name:n.name,profileImage:n.profileImage},[o.id]:{name:o.name,profileImage:o.profileImage}},messages:[r],lastUpdated:new Date().toISOString()})}}async function u(e,a){let t=e.collection("conversations").doc(a.conversationId),i=await t.get();if(!i.exists)throw Error("Conversation not found");let r=i.data();if(!r.participantIds.includes(a.acceptorId))throw Error("Permission Denied: Acceptor is not a participant of this conversation.");let s=r.messages.find(e=>e.id===a.messageId);if(!s)throw Error("Message not found");if(s.senderId===a.acceptorId)throw Error("Permission Denied: Cannot accept your own proposal.");if("proposal"!==s.type||!s.proposal)throw Error("Message is not a proposal");let n=r.messages.findIndex(e=>e.id===a.messageId),d=null,c=null;if(n>-1){let e=[...r.messages];e[n]={...s,isProposalAccepted:!0},await t.update({messages:e}),d=e[n],c={...r,messages:e}}else throw Error("Could not find message in conversation array to update.");if(!d.proposal)throw Error("Accepted message is not a valid proposal.");let l=await e.collection("users").doc(a.acceptorId).get();if(!l.exists)throw Error("Client user data not found.");let u=l.data(),p=!0===u.isSubscribed,m=d.senderId,f=a.acceptorId,h={type:"Servicio",status:p?"Acuerdo Aceptado - Pendiente de Ejecuci\xf3n":"Finalizado - Pendiente de Pago",date:new Date().toISOString(),amount:d.proposal.amount,clientId:f,providerId:m,participantIds:[f,m].sort(),details:{serviceName:d.proposal.title,proposal:d.proposal,paymentMethod:d.proposal.acceptsCredicora&&d.proposal.amount>=20?"credicora":"direct"}};return await (0,o.qM)(e,h),{message:d,conversation:c}}[n,o]=c.then?(await c)():c,s.Ry({conversationId:s.Z_(),senderId:s.Z_(),recipientId:s.Z_(),text:s.Z_().optional(),location:s.Ry({lat:s.Rx(),lon:s.Rx()}).optional(),proposal:s.PG().optional()}),s.Ry({conversationId:s.Z_(),messageId:s.Z_(),acceptorId:s.Z_()}),(0,d.h)([l,u]),(0,r.j)("a9071a044d1c05added5ad327a8452e73210c9c8",l),(0,r.j)("b142bb6d1b2d1c82c4646d94ea3f029cb322dc27",u),i()}catch(e){i(e)}})},9698:(e,a,t)=>{"use strict";t.d(a,{Aj:()=>m,K9:()=>h,dF:()=>x,i6:()=>l,rA:()=>f,sq:()=>p});var i=t(27745);t(26461);var r=t(11667),s=t(76756),n=t(88914),o=t(92918),d=t(64784),c=t(85723);async function l(e,a){let t=`notif-${a.userId}-${Date.now()}`,i=e.collection("notifications").doc(t),r={id:t,...a,isRead:!1,timestamp:new Date().toISOString()};await i.set(r)}async function u(e){let a=e.collection("transactions").where("status","in",["Finalizado - Pendiente de Pago","Pendiente de Confirmaci\xf3n del Cliente"]),t=await a.get();if(t.empty)return;let i=new Date;for(let a of t.docs){let t=a.data(),r="Pendiente de Confirmaci\xf3n del Cliente"===t.status?(0,s.E)(new Date(t.date),1):new Date(t.date);if((0,n.A)(r)){let a=(0,o.j)(r,i);"Finalizado - Pendiente de Pago"===t.status&&[7,2,1].includes(a)?await l(e,{userId:t.clientId,type:"payment_reminder",title:"Recordatorio de Pago Amistoso",message:`Tu pago de $${t.amount.toFixed(2)} por "${t.details.serviceName||t.details.system}" vence en ${a} d\xeda(s).`,link:"/transactions"}):0===a&&await l(e,{userId:t.clientId,type:"payment_due",title:"\xa1Tu pago vence hoy!",message:`Recuerda realizar tu pago de $${t.amount.toFixed(2)} hoy para mantener tu reputaci\xf3n.`,link:"/transactions"})}else if((0,d.C)(r)){let a=(0,o.j)(i,r);"Finalizado - Pendiente de Pago"===t.status&&a>=1&&(a>=1&&a<=2?await l(e,{userId:t.clientId,type:"payment_warning",title:"Advertencia: Pago Atrasado",message:`Tu pago de $${t.amount.toFixed(2)} tiene ${a} d\xeda(s) de retraso. Esto afectar\xe1 negativamente tu efectividad.`,link:"/transactions"}):a>=3&&await l(e,{userId:"corabo-admin",type:"admin_alert",title:"Alerta de Morosidad Cr\xedtica",message:`El cliente ${t.clientId} tiene un pago con ${a} d\xedas de retraso (ID: ${t.id}). Se requiere contacto directo.`,link:`/admin?tab=disputes&tx=${t.id}`})),"Pago Enviado - Esperando Confirmaci\xf3n"===t.status&&a>=2&&await l(e,{userId:t.providerId,type:"payment_warning",title:"Acci\xf3n Requerida: Confirmar Pago",message:`El cliente ${t.clientId} registr\xf3 un pago hace ${a} d\xedas. Por favor, conf\xedrmalo para completar la transacci\xf3n.`,link:"/transactions"})}}}async function p(e,{campaignId:a}){let t=e.collection("campaigns").doc(a),i=await t.get();if(!i.exists)return;let r=i.data(),s=e.collection("users").doc(r.providerId),n=await s.get();if(!n.exists)return;let o=n.data(),d=r.segmentation.interests?.length?r.segmentation.interests:o.profileSetupData?.primaryCategory?[o.profileSetupData.primaryCategory]:[];if(!d.length)return;let c=e.collection("users").where("type","==","client").where("profileSetupData.categories","array-contains-any",d),l=await c.get(),u=e.batch();l.forEach(t=>{let i=t.data(),s=`notif-${i.id}-${a}`,n=e.collection("notifications").doc(s),d={id:s,userId:i.id,type:"new_campaign",title:` Nueva oferta de ${o.name}`,message:`"${"premium"===r.budgetLevel?"\xa1Exclusivo!":"\xa1No te lo pierdas!"}" Una nueva promoci\xf3n de ${o.profileSetupData?.specialty} podr\xeda interesarte.`,link:`/companies/${o.id}`,isRead:!1,timestamp:new Date().toISOString()};u.set(n,d)}),await u.commit()}async function m(e,{providerId:a,publicationId:t,publicationDescription:i,providerName:r}){let s=e.collection("users").where("contacts","array-contains",a),n=await s.get(),o=e.batch();n.forEach(s=>{let n=s.data(),d=`notif-${n.id}-pub-${t}`,c=e.collection("notifications").doc(d),l={id:d,userId:n.id,type:"new_publication",title:` ${r} tiene algo nuevo para ti`,message:`"${i.slice(0,50)}..."`,link:`/companies/${a}`,isRead:!1,timestamp:new Date().toISOString()};o.set(c,l)}),await o.commit()}async function f(e,{userId:a}){await l(e,{userId:a,type:"welcome",title:"\xa1Felicidades por convertirte en proveedor!",message:"Para empezar con el pie de derecho, suscr\xedbete y obt\xe9n la insignia de verificado.",link:"/contacts"})}async function h(e,{userId:a,limitNum:t=20,startAfterDocId:i}){let r=e.collection("notifications").where("userId","==",a).orderBy("timestamp","desc").limit(t);if(i){let a=await e.collection("notifications").doc(i).get();a.exists&&(r=r.startAfter(a))}let s=await r.get(),n=s.docs.map(e=>e.data()),o=s.docs[s.docs.length-1];return{notifications:n,lastVisibleDocId:s.docs.length===t?o?.id:void 0}}async function x(e,a){let t=e.collection("users").where("type","==","provider").where("profileSetupData.primaryCategory","==",a.category).where("isTransactionsActive","==",!0),i=await t.get();if(i.empty)return;let r=e.batch();i.forEach(t=>{let i=t.data(),s=`notif-${i.id}-quote-${a.transactionId}`,n=e.collection("notifications").doc(s),o={id:s,userId:i.id,type:"new_quote_request",title:"\uD83D\uDCE3 Nueva Oportunidad de Negocio",message:`Un cliente necesita un servicio de "${a.title}" en tu categor\xeda.`,link:`/transactions?tx=${a.transactionId}`,isRead:!1,timestamp:new Date().toISOString()};r.set(n,o)}),await r.commit()}r.Ry({userId:r.Z_(),title:r.Z_(),message:r.Z_(),link:r.Z_().optional(),type:r.Km(["new_campaign","payment_reminder","admin_alert","welcome","affiliation_request","payment_warning","payment_due","new_publication","cashier_request","new_quote_request","monthly_invoice","tutorial_request","tutorial_payment_request","live_access_request"]),metadata:r.Yj().optional()}),(0,c.h)([l,u,p,m,f,h,x]),(0,i.j)("ecfebd7604b718813b348718ff572d7984f4d221",l),(0,i.j)("63e330e4d2079805de1f8cb2bb504b054e08a1d3",u),(0,i.j)("99ece3c94d70d9104c8919c7a0d1ac46d5d2f1fd",p),(0,i.j)("26de378335a3bb5c8d201d1f2f617f7539784e42",m),(0,i.j)("96e15b9181bb61aa035776b2cd070c4d5a47650e",f),(0,i.j)("fca0e0bd7302d2c4541c243246dfaea7377ce700",h),(0,i.j)("f1bb85acd14372f641087e643b2c6b91d7cd7599",x)},90085:(e,a,t)=>{"use strict";t.a(e,async(e,i)=>{try{t.d(a,{$w:()=>p,Fn:()=>m,Oe:()=>u,QH:()=>h,Qf:()=>c,av:()=>x,uM:()=>l,z$:()=>b});var r=t(27745);t(26461);var s=t(72929),n=t(9698),o=t(85723),d=e([s]);async function c(e,a){let t=e.collection("users").doc(a.uid),i=await t.get();if(i.exists)return i.data();let r=`corabo${Math.floor(9e3*Math.random())+1e3}`,s={id:a.uid,coraboId:r,name:a.displayName||"Invitado",lastName:"",email:a.email||`${r}@corabo.app`,profileImage:`https://i.pravatar.cc/150?u=${a.uid}`,phone:a.phoneNumber||"",type:"client",reputation:0,effectiveness:0,isGpsActive:!0,emailValidated:a.emailVerified||!1,phoneValidated:!1,isInitialSetupComplete:!1,createdAt:new Date().toISOString()};return await t.set(s),s}async function l(e,a,i){let r=e.collection("users").doc(a),s=await r.get();if(!s.exists)throw Error("User not found during setup completion.");let n=s.data(),o="company"===i.providerType,d=(o?(await Promise.resolve().then(t.bind(t,79739))).credicoraCompanyLevels:(await Promise.resolve().then(t.bind(t,79739))).credicoraLevels)["1"],c={name:i.name,lastName:i.lastName,idNumber:i.idNumber,birthDate:i.birthDate,country:i.country,isInitialSetupComplete:!0,type:o?"provider":i.type,credicoraLevel:d.level,credicoraLimit:d.creditLimit,credicoraDetails:d,profileSetupData:{...n.profileSetupData||{},providerType:i.providerType}};return await r.update(c),(await r.get()).data()}async function u(e,a){let t=e.collection("users").doc(a.userId);await t.update(a.updates)}async function p(e,a){let t=e.collection("users").doc(a.userId),i=await t.get();if(i.exists){let e=i.data().isGpsActive;await t.update({isGpsActive:!e})}}async function m(e,a,t){await a.deleteUser(t.userId);let i=e.collection("users").doc(t.userId);await i.delete()}async function f(e,a){if(!a.idNumber||!a.country)return!0;let t=e.collection("users").where("idNumber","==",a.idNumber).where("country","==",a.country),i=await t.get();return!!i.empty||i.docs[0].id===a.currentUserId}async function h(e,a){await e.collection("users").doc(a.userId).update({contacts:s.FieldValue.arrayUnion(a.contactId)})}async function x(e,a){await e.collection("users").doc(a.userId).update({contacts:s.FieldValue.arrayRemove(a.contactId)})}async function b(e,{userId:a,profileData:t}){let i=e.collection("users").doc(a);await i.update({profileSetupData:t,isTransactionsActive:!0,type:"delivery"===t.providerType?"repartidor":"provider"}),await (0,n.rA)(e,{userId:a})}s=(d.then?(await d)():d)[0],(0,o.h)([c,l,u,p,m,f,h,x,b]),(0,r.j)("7d0fb48b388301fd0570f7657ae33eca0584e0c3",c),(0,r.j)("1a4a3bc4ddc6367282a7949f514fe02921f61f93",l),(0,r.j)("e8358d22a4987c859b453e145bccc11d79e73f71",u),(0,r.j)("fc2f69ee5ebc7fdbc2f392dc33f50ae249a2801f",p),(0,r.j)("ebc8db9d8f7ff34b0a14ed19d1f727416b9ef29e",m),(0,r.j)("ad9c25625854667f2d1c508ed3d8966b923eb6a1",f),(0,r.j)("5379301f86446689d066194b1ce1de9f294d395a",h),(0,r.j)("67370e643c7303c3e5ac5bc0b8c05f19fc80eec3",x),(0,r.j)("f00f75462f51d6739a0f3596a6799b424f9ccf15",b),i()}catch(e){i(e)}})},15829:(e,a,t)=>{"use strict";t.a(e,async(e,i)=>{try{t.d(a,{AV:()=>p,Jd:()=>l,M2:()=>h,Vb:()=>m,X1:()=>f,jF:()=>u});var r=t(27745);t(26461);var s=t(72929),n=t(30266),o=t(85723),d=e([s,n]);async function c(e,a,t){let i=(0,n.cr)().bucket(),r=`${t}-${Date.now()}`,s=a.match(/^data:(.+);base64,(.+)$/);if(!s||3!==s.length)throw Error("Invalid imageDataUri format");let o=s[1],d=s[2],c=Buffer.from(d,"base64"),l=`uploads/${e}/${r}`,u=i.file(l);await u.save(c,{metadata:{contentType:o}});let[p]=await u.getSignedUrl({action:"read",expires:"01-01-2500"});return p}async function l(e,a){let t=e.collection("users").doc(a.userId),i=await t.get();if(!i.exists)throw Error("User not found.");let r=i.data(),s=await c(a.userId,a.imageDataUri,"pub"),n=`pub-${Date.now()}`,o={id:n,providerId:a.userId,type:a.type,src:s,alt:a.description.slice(0,50),description:a.description,createdAt:new Date().toISOString(),comments:[],likes:0,aspectRatio:a.aspectRatio,owner:{id:r.id,name:r.name,profileImage:r.profileImage,verified:r.verified,isGpsActive:r.isGpsActive,reputation:r.reputation,profileSetupData:{specialty:r.profileSetupData?.specialty,providerType:r.profileSetupData?.providerType,username:r.profileSetupData?.username,primaryCategory:r.profileSetupData?.primaryCategory},activeAffiliation:r.activeAffiliation||null}},d=e.collection("publications").doc(n);return await d.set(o),o}async function u(e,a){let t=e.collection("users").doc(a.userId),i=await t.get();if(!i.exists)throw Error("User not found.");let r=i.data(),s=await c(a.userId,a.imageDataUri,"prod"),n=`prod-${Date.now()}`,o={id:n,providerId:a.userId,type:"product",src:s,alt:a.name,description:a.description,createdAt:new Date().toISOString(),likes:0,comments:[],productDetails:{name:a.name,price:a.price||0,category:r.profileSetupData?.primaryCategory||"General"},owner:{id:r.id,name:r.name,profileImage:r.profileImage,verified:r.verified,isGpsActive:r.isGpsActive,reputation:r.reputation,profileSetupData:{specialty:r.profileSetupData?.specialty,providerType:r.profileSetupData?.providerType,username:r.profileSetupData?.username,primaryCategory:r.profileSetupData?.primaryCategory},activeAffiliation:r.activeAffiliation||null}},d=e.collection("publications").doc(n);return await d.set(o),o}async function p(e,a){let t=e.collection("publications").doc(a.imageId),i={authorId:a.author.id,author:a.author.name,text:a.commentText,profileImage:a.author.profileImage,likes:0,dislikes:0};await t.update({comments:s.FieldValue.arrayUnion(i)})}async function m(e,a){let t=e.collection("publications").doc(a.imageId),i=await t.get();if(!i.exists)throw Error("Image not found.");let r=i.data(),s=r.comments?.[a.commentIndex];if(!s)throw Error("Comment not found at the specified index.");let n=r.providerId;if(a.authorId!==s.authorId&&a.authorId!==n)throw Error("You are not authorized to delete this comment.");let o=r.comments?.filter((e,t)=>t!==a.commentIndex);await t.update({comments:o})}async function f(e,a){let t=e.collection("publications").doc(a.imageId),i={};if(a.updates.description&&(i.description=a.updates.description),a.updates.imageDataUri){let e=await t.get();if(!e.exists)throw Error("Image to update not found");let r=e.data()?.providerId;if(!r)throw Error("Could not determine file owner");i.src=await c(r,a.updates.imageDataUri,"pub-update")}Object.keys(i).length>0&&await t.update(i)}async function h(e,a){await e.collection("publications").doc(a.imageId).delete()}[s,n]=d.then?(await d)():d,(0,o.h)([l,u,p,m,f,h]),(0,r.j)("9da32d819eff617df218aea356bad97f388efb99",l),(0,r.j)("4b1dfbe955692248163d53f4427b2727e5db6f33",u),(0,r.j)("b8abe21b6d7b3053f685fec7b4d522549490ef4c",p),(0,r.j)("cd62716dbf5e783abe5f6b057102c3823864a453",m),(0,r.j)("a4c9be3519d4bc3704c1eb1b326aed7b4c6a8df8",f),(0,r.j)("7aa3958aba6a0c29e54a9798dafd9458dae4353d",h),i()}catch(e){i(e)}})},50604:(e,a,t)=>{"use strict";t.a(e,async(e,i)=>{try{t.d(a,{CB:()=>j,D4:()=>k,Ms:()=>N,NR:()=>w,QJ:()=>R,WA:()=>_,Y1:()=>C,ak:()=>g,id:()=>y,j4:()=>I,kj:()=>E,km:()=>v,og:()=>S,qM:()=>P});var r=t(27745);t(26461);var s=t(11667),n=t(72929),o=t(62351),d=t(76756),c=t(30406),l=t(65673),u=t(16493),p=t(20147),m=t(9698),f=t(43811),h=t(79739),x=t(85723),b=e([n,p]);[n,p]=b.then?(await b)():b,s.Ry({clientId:s.Z_(),title:s.Z_().min(5,"El t\xedtulo es muy corto."),description:s.Z_().min(20,"La descripci\xf3n debe ser m\xe1s detallada."),category:s.Z_({required_error:"Debes seleccionar una categor\xeda."}),isPaid:s.O7().optional()});let D=s.Ry({transactionId:s.Z_(),userId:s.Z_()});async function v(e,a){let t=e.batch(),i=e.collection("qr_sessions").doc(a.sessionId),r=await i.get();if(!r.exists)throw Error("QR Session not found");let s=r.data();if(!s.amount)throw Error("Invalid session data: amount is missing.");if(!s.clientId)throw Error("Invalid session data: client ID is missing.");let n=e.collection("users").doc(s.clientId),c=await n.get();if(!c.exists)throw Error("Client not found for commission calculation");let l=c.data(),p=e.collection("users").doc(s.providerId),m=await p.get();if(!m.exists)throw Error("Provider not found");let f=m.data(),{rate:x}=await (0,u.f)(),b=f.profileSetupData?.providerType==="company",v=b?.06:.04;f.isSubscribed&&(v=b?.05:.03);let g=s.amount,y=h.countries.find(e=>e.code===f.country),w=y?.ivaRate||.16,j=g*v,I=j*w,N=`txndp-${a.sessionId}`,P={id:N,type:"Compra Directa",status:"Pagado",date:new Date().toISOString(),amount:g,participantIds:[s.clientId,s.providerId],clientId:s.clientId,providerId:s.providerId,details:{paymentMethod:s.financedAmount&&s.financedAmount>0?"credicora":"direct",initialPayment:s.initialPayment,financedAmount:s.financedAmount,paymentVoucherUrl:s.voucherUrl,system:`Venta por ${g.toFixed(2)}`,baseAmount:g,exchangeRate:x,amountUSD:g/x,cashierBoxId:s.cashierBoxId,cashierName:s.cashierName,commissionRate:v,taxRate:w,commission:j,tax:I}};t.set(e.collection("transactions").doc(N),P);let C=`txn-comm-${N}`,S=(0,o.V)(new Date),R={system:`Comisi\xf3n de servicio por Venta (Tx: ${N.slice(-6)})`,baseAmount:j,tax:I,taxRate:w,commissionRate:v},E={id:C,type:"Sistema",status:"Finalizado - Pendiente de Pago",date:S.toISOString(),amount:j+I,clientId:s.providerId,providerId:"corabo-admin",participantIds:[s.providerId,"corabo-admin"],details:R};if(t.set(e.collection("transactions").doc(C),E),s.financedAmount&&s.installments&&s.financedAmount>0){let i=s.financedAmount/s.installments;for(let r=1;r<=s.installments;r++){let n=`txn-credicora-${a.sessionId.slice(-4)}-${r}`,o=(0,d.E)(new Date,15*r),c={id:n,type:"Sistema",status:"Finalizado - Pendiente de Pago",date:o.toISOString(),amount:i,clientId:s.clientId,providerId:"corabo-admin",participantIds:[s.clientId,"corabo-admin"],details:{system:`Cuota ${r}/${s.installments} de Compra Directa`}};t.set(e.collection("transactions").doc(n),c)}let r=(l.credicoraLimit||0)-s.financedAmount;t.update(n,{credicoraLimit:r})}return await t.commit(),{transactionId:N}}async function g(e,a){let t=e.collection("transactions").doc(a.transactionId),i=await t.get();if(!i.exists)throw Error("Transaction not found.");let r=i.data();if(r.providerId!==a.userId)throw Error("Permission denied.");if("Acuerdo Aceptado - Pendiente de Ejecuci\xf3n"!==r.status)throw Error("Invalid action.");await t.update({status:"Pendiente de Confirmaci\xf3n del Cliente"})}async function y(e,a){let t=e.collection("transactions").doc(a.transactionId),i=await t.get();if(!i.exists)throw Error("Transaction not found.");let r=i.data();if(r.clientId!==a.userId)throw Error("Permission denied.");if("Pendiente de Confirmaci\xf3n del Cliente"!==r.status)throw Error("Invalid action.");let{rate:s}=await (0,u.f)();await t.update({status:"Finalizado - Pendiente de Pago","details.clientRating":a.rating,"details.clientComment":a.comment||"","details.exchangeRate":s,"details.amountUSD":r.amount/s,"details.paymentRequestedAt":new Date().toISOString()})}async function w(e,a){let t=e.collection("transactions").doc(a.transactionId),i=await t.get();if(!i.exists)throw Error("Transaction not found.");if(i.data().clientId!==a.userId)throw Error("Permission denied.");await t.update({status:"Pago Enviado - Esperando Confirmaci\xf3n","details.paymentMethod":a.paymentDetails.paymentMethod,"details.paymentReference":a.paymentDetails.paymentReference,"details.paymentVoucherUrl":a.paymentDetails.paymentVoucherUrl,"details.paymentSentAt":new Date().toISOString()})}async function j(e,a){let t=e.batch(),i=e.collection("transactions").doc(a.transactionId),r=await i.get();if(!r.exists)throw Error("Transaction not found.");let s=r.data();if(s.providerId!==a.userId)throw Error("Permission denied.");if("Pago Enviado - Esperando Confirmaci\xf3n"!==s.status)throw Error("Invalid action.");t.update(i,{status:"Pagado","details.paymentFromThirdParty":a.fromThirdParty});let o=e.collection("users").doc(s.clientId);t.update(o,{effectiveness:n.FieldValue.increment(2)}),await t.commit()}async function I(e,a){let t=e.collection("transactions").doc(a.transactionId),i=await t.get();if(!i.exists)throw Error("Transaction not found.");let r=i.data();if(r.providerId!==a.userId)throw Error("Permission denied.");if("Solicitud Pendiente"!==r.status)throw Error("Invalid action.");await t.update({status:"Cotizaci\xf3n Recibida",amount:a.total,"details.quote":{breakdown:a.breakdown,total:a.total}})}async function N(e,a){let t=e.collection("transactions").doc(a.transactionId),i=await t.get();if(!i.exists)throw Error("Transaction not found.");let r=i.data();if(r.clientId!==a.userId)throw Error("Permission denied.");if("Cotizaci\xf3n Recibida"!==r.status)throw Error("Invalid action.");await t.update({status:"Finalizado - Pendiente de Pago"})}async function P(e,a){let t=`txn-sys-${Date.now()}`,i={id:t,...a},r=e.collection("transactions").doc(t);return await r.set(i),a.details.isSubscription&&await e.collection("users").doc(a.clientId).update({isSubscribed:!0}),i}async function C(e,a){let t=`txn-appt-${Date.now()}`,i={id:t,type:"Servicio",status:"Cita Solicitada",date:a.date,amount:a.amount,clientId:a.clientId,providerId:a.providerId,participantIds:[a.clientId,a.providerId].sort(),details:{serviceName:`Solicitud de cita: ${a.details}`}},r=e.collection("transactions").doc(t);await r.set(i)}async function S(e,a){let t=e.collection("transactions").doc(a.transactionId),i=await t.get();if(!i.exists)throw Error("Transaction not found.");let r=i.data();if(r.providerId!==a.userId)throw Error("Permission denied.");if("Cita Solicitada"!==r.status)throw Error("Invalid action.");await t.update({status:"Acuerdo Aceptado - Pendiente de Ejecuci\xf3n"})}async function R(e,a){let t=e.collection("transactions").doc(a);await t.update({status:"En Disputa"})}async function E(e,a){let t=e.collection("transactions").doc(a);await t.delete()}async function k(e,a){let t=e.batch(),i=e.collection("transactions").where("clientId","==",a.userId).where("providerId","==",a.providerId).where("status","==","Carrito Activo"),r=(await i.get()).docs[0];if(!r)throw Error("Cart not found for checkout.");let s=r.ref,n=r.data(),o=e.collection("users").doc(a.userId),c=(await o.get()).data(),l=e.collection("users").doc(a.providerId),u=(await l.get()).data(),m=0,h=n.amount,x=0;if(a.useCredicora&&c.credicoraDetails){let i=n.amount*(1-c.credicoraDetails.initialPaymentPercentage);if(m=Math.min(i,c.credicoraLimit||0),h=n.amount-m,x=c.credicoraDetails.installments,m>0){let i=(c.credicoraLimit||0)-m;t.update(o,{credicoraLimit:i});let r=m/x;for(let i=1;i<=x;i++){let s=`txn-credicora-cart-${n.id.slice(-4)}-${i}`,o=(0,d.E)(new Date,15*i),c={id:s,type:"Sistema",status:"Finalizado - Pendiente de Pago",date:o.toISOString(),amount:r,clientId:a.userId,providerId:"corabo-admin",participantIds:[a.userId,"corabo-admin"],details:{system:`Cuota ${i}/${x} de Compra`}};t.set(e.collection("transactions").doc(s),c)}}}let b={method:a.deliveryMethod,address:a.deliveryAddress,recipientInfo:a.recipientInfo},v=0;if("pickup"!==a.deliveryMethod&&u?.profileSetupData?.location&&c.profileSetupData?.location){let[e,a]=u.profileSetupData.location.split(",").map(Number),[t,i]=c.profileSetupData.location.split(",").map(Number),r=(0,f.x)(e,a,t,i);v=await (0,p.Z1)({distanceInKm:r})}t.update(s,{status:"pickup"===a.deliveryMethod?"Listo para Retirar en Tienda":"Buscando Repartidor","details.delivery":b,"details.deliveryCost":v,"details.paymentMethod":a.useCredicora?"credicora":"direct","details.financedAmount":m,"details.initialPayment":h,amount:n.amount+v}),await t.commit(),"pickup"!==a.deliveryMethod&&(0,p.w2)(e,{transactionId:n.id})}async function _(e,a){let t=e.collection("users").doc(a.clientId),i=await t.get();if(!i.exists)throw Error("Client not found.");let r=i.data(),s=(0,c.z)(new Date,{weekStartsOn:1}),n=r.lastFreeQuoteAt&&(0,l.A)(new Date(r.lastFreeQuoteAt),s);if(!r.isSubscribed&&n)return{requiresPayment:!0,newTransaction:null};{let i=`txn-quote-${Date.now()}`,s={id:i,type:"Cotizaci\xf3n",status:"Solicitud Pendiente",date:new Date().toISOString(),amount:0,clientId:a.clientId,providerId:"corabo-system",participantIds:[a.clientId,"corabo-system"],details:{serviceName:a.title,quote:{breakdown:a.description,total:0}}},n=e.batch();return n.set(e.collection("transactions").doc(i),s),r.isSubscribed||n.update(t,{lastFreeQuoteAt:new Date().toISOString()}),await (0,m.i6)(e,{userId:a.clientId,type:"new_quote_request",title:"Nueva solicitud de cotizaci\xf3n",message:`Has creado una nueva solicitud de cotizaci\xf3n: ${a.title}`,link:`/transactions?tx=${i}`}),await n.commit(),{requiresPayment:!1,newTransaction:s}}}D.extend({rating:s.Rx().min(1).max(5),comment:s.Z_().optional()}),s.Ry({transactionId:s.Z_(),userId:s.Z_(),paymentDetails:s.Ry({paymentMethod:s.Z_(),paymentReference:s.Z_().optional(),paymentVoucherUrl:s.Z_().optional()})}),D.extend({breakdown:s.Z_(),total:s.Rx()}),s.Ry({providerId:s.Z_(),clientId:s.Z_(),date:s.Z_(),details:s.Z_(),amount:s.Rx()}),s.Ry({sessionId:s.Z_()}),s.Ry({transactionId:s.Z_(),userId:s.Z_(),fromThirdParty:s.O7()}),s.Ry({userId:s.Z_(),providerId:s.Z_(),deliveryMethod:s.Z_(),useCredicora:s.O7(),recipientInfo:s.Ry({name:s.Z_(),phone:s.Z_()}).optional(),deliveryAddress:s.Z_().optional()}),(0,x.h)([v,g,y,w,j,I,N,P,C,S,R,E,k,_]),(0,r.j)("a715679016abc0a089a703998b4471029b72058d",v),(0,r.j)("e6bb72442b3fa607dabd6b2ab60c7f49f81b911b",g),(0,r.j)("012ab36a630415ae9a63641cf7ec2161eca1f046",y),(0,r.j)("40398987b32333046bc7b674df4a2eaecf5e7968",w),(0,r.j)("f1742c6bd97a580c4df6e479db03d1d92cc9e43f",j),(0,r.j)("314400c0d9c18867a62ad72cd884d1e402d7738e",I),(0,r.j)("7ad12f04756dd71568a2c328f089f68671681c44",N),(0,r.j)("c72ae73e378f308f84b46d411de1e40e8bc89199",P),(0,r.j)("f361b73d9e5807eae0c142924cc62f483000dab2",C),(0,r.j)("a1d1bf4dbfba0e88e7495df179297287e2b3111d",S),(0,r.j)("e1960ff8fd5e178be75649dc386ff01afbbd2c4e",R),(0,r.j)("db1a144287497ec7d9a71f673ace818a95fad81e",E),(0,r.j)("e057cec0c180051ebb5d4d245b74229d08c18283",k),(0,r.j)("9a75526ea358c572f487df2e3fc20a56ce1796a9",_),i()}catch(e){i(e)}})},14205:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>u});var i=t(19510),r=t(45036),s=t.n(r);t(5023);var n=t(68570);let o=(0,n.createProxy)(String.raw`/home/user/corabO/src/components/ThemeProvider.tsx#ThemeProvider`),d=(0,n.createProxy)(String.raw`/home/user/corabO/src/components/ui/toaster.tsx#Toaster`);(0,n.createProxy)(String.raw`/home/user/corabO/src/hooks/use-auth-provider.tsx#AuthContext`),(0,n.createProxy)(String.raw`/home/user/corabO/src/hooks/use-auth-provider.tsx#useAuth`);let c=(0,n.createProxy)(String.raw`/home/user/corabO/src/hooks/use-auth-provider.tsx#AuthProvider`),l=(0,n.createProxy)(String.raw`/home/user/corabO/src/app/ClientLayout.tsx#default`);function u({children:e}){return i.jsx("html",{lang:"es",suppressHydrationWarning:!0,children:i.jsx("body",{className:`${s().variable} antialiased bg-background`,children:i.jsx(o,{attribute:"class",defaultTheme:"system",enableSystem:!0,children:(0,i.jsxs)(c,{children:[i.jsx(l,{children:e}),i.jsx(d,{})]})})})})}},12523:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>i});let i=(0,t(68570).createProxy)(String.raw`/home/user/corabO/src/app/not-found.tsx#default`)},67500:(e,a,t)=>{"use strict";t.a(e,async(e,i)=>{try{t.r(a),t.d(a,{clearSessionCookie:()=>m,createSessionCookie:()=>p,getOrCreateUser:()=>l,signInAsGuest:()=>u});var r=t(27745);t(26461);var s=t(53973),n=t(30266),o=t(90085),d=t(85723),c=e([n,o]);async function l(e){let a=(0,n.hi)();return await (0,o.Qf)(a,e)}async function u(){try{let e=(0,n.yL)(),a=(0,n.hi)(),t=`guest_${Date.now()}`,i=await e.createCustomToken(t);return await (0,o.Qf)(a,{uid:t,displayName:"Invitado",email:null,photoURL:null,emailVerified:!1}),{customToken:i}}catch(a){let e=a instanceof Error?a.message:"Failed to create guest token.";return console.error("[ACTION_ERROR] signInAsGuest:",e),{error:e}}}async function p(e){try{let a=(0,n.yL)(),t=(0,n.hi)(),i=await a.createSessionCookie(e,{expiresIn:432e6});(0,s.cookies)().set("session",i,{maxAge:432e6,httpOnly:!0,secure:!0,path:"/",sameSite:"lax"});let r=await a.verifyIdToken(e);return await (0,o.Qf)(t,{uid:r.uid,email:r.email,displayName:r.name,photoURL:r.picture,emailVerified:r.email_verified||!1}),{success:!0}}catch(a){let e=a instanceof Error?a.message:"Could not create session cookie.";return console.error("Error creating session cookie",a),{success:!1,error:e}}}async function m(){try{return(0,s.cookies)().delete("session"),{success:!0}}catch(a){let e=a instanceof Error?a.message:"Could not clear session cookie.";return console.error("Error clearing session cookie",a),{success:!1,error:e}}}[n,o]=c.then?(await c)():c,(0,d.h)([l,u,p,m]),(0,r.j)("d3324d6c83f3a3db02622507b4b401ba56959940",l),(0,r.j)("75f66e5bfcc5802b933cf6bb3a81d2e6fb71f193",u),(0,r.j)("0fcca1ef621d98be26c0bfcf3d0536b2eafaf90b",p),(0,r.j)("92acb34382b7cc06f4de5ac34a55db761fb52098",m),i()}catch(e){i(e)}})},43764:(e,a,t)=>{"use strict";t.a(e,async(e,i)=>{try{t.r(a),t.d(a,{updateCart:()=>l});var r=t(27745);t(26461);var s=t(30207),n=t(70254),o=t(30266),d=t(85723),c=e([o]);async function l(e,a,t){let i=(0,o.hi)();try{await (0,n.L)(i,{userId:e,productId:a,newQuantity:t}),(0,s.revalidatePath)("/transactions"),(0,s.revalidatePath)("/profile")}catch(e){throw console.error("[ACTION_ERROR] updateCart:",e),Error("Failed to update cart.")}}o=(c.then?(await c)():c)[0],(0,d.h)([l]),(0,r.j)("58916f5aa51f5451dd6608a06048fa71b5001e5a",l),i()}catch(e){i(e)}})},71239:(e,a,t)=>{"use strict";t.a(e,async(e,i)=>{try{t.r(a),t.d(a,{addCommentToImage:()=>m,createProduct:()=>p,createPublication:()=>u,removeCommentFromImage:()=>f,removeGalleryImage:()=>x,updateGalleryImage:()=>h});var r=t(27745);t(26461);var s=t(30207),n=t(15829),o=t(9698),d=t(30266),c=t(85723),l=e([n,d]);async function u(e){let a=(0,d.hi)(),t=await (0,n.Jd)(a,e),i=await a.collection("users").doc(e.userId).get();if(i.exists){let r=i.data();(r.verified||(r.reputation||0)>4)&&(0,o.Aj)(a,{providerId:e.userId,publicationId:t.id,publicationDescription:t.description,providerName:r.name})}return(0,s.revalidatePath)("/profile"),(0,s.revalidatePath)(`/companies/${e.userId}`),t}async function p(e){let a=(0,d.hi)(),t=await (0,n.jF)(a,e),i=await a.collection("users").doc(e.userId).get();if(i.exists){let r=i.data();(r.verified||(r.reputation||0)>4)&&(0,o.Aj)(a,{providerId:e.userId,publicationId:t.id,publicationDescription:`\xa1Nuevo producto disponible! ${t.alt}`,providerName:r.name})}return(0,s.revalidatePath)("/profile"),(0,s.revalidatePath)(`/companies/${e.userId}`),t}async function m(e){let a=(0,d.hi)();await (0,n.AV)(a,e),(0,s.revalidatePath)(`/publications/${e.imageId}`)}async function f(e){let a=(0,d.hi)();await (0,n.Vb)(a,e),(0,s.revalidatePath)(`/publications/${e.imageId}`)}async function h(e,a){let t=(0,d.hi)();await (0,n.X1)(t,{imageId:e,updates:a}),(0,s.revalidatePath)(`/publications/${e}`),(0,s.revalidatePath)("/profile")}async function x(e,a){let t=(0,d.hi)();await (0,n.M2)(t,{imageId:a}),(0,s.revalidatePath)(`/companies/${e}`),(0,s.revalidatePath)("/profile")}[n,d]=l.then?(await l)():l,(0,c.h)([u,p,m,f,h,x]),(0,r.j)("feab6f8fe3596605c3a56acf95b545caf1fe8f10",u),(0,r.j)("097b808e0ece62513ed2a928f4e9a74b2f5cd67b",p),(0,r.j)("6970a6d88c9c6363fee8be49e1b820441b76289d",m),(0,r.j)("911f01a7adbee5e89e0dc6003ef17b4f0ac1f24c",f),(0,r.j)("d10c5b0c5dc185c0719b914043fd17b76a901250",h),(0,r.j)("1e07348ea432662ad092ac802f4a5c62c0b6584a",x),i()}catch(e){i(e)}})},20056:(e,a,t)=>{"use strict";t.a(e,async(e,i)=>{try{t.r(a),t.d(a,{acceptAppointment:()=>p,acceptQuote:()=>m,cancelSystemTransaction:()=>w,checkout:()=>f,completeWork:()=>h,confirmPaymentReceived:()=>v,confirmWorkReceived:()=>x,createAppointmentRequest:()=>u,createQuoteRequest:()=>I,payCommitment:()=>b,processDirectPayment:()=>j,purchaseGift:()=>N,resolveCollectionCase:()=>P,sendQuote:()=>g,startDispute:()=>y,writeOffDebt:()=>C});var r=t(27745);t(26461);var s=t(30207),n=t(50604),o=t(30266),d=t(85723),c=e([n,o]);async function l(e,a,t){let i=e.bucket(),r=t.match(/^data:(.+);base64,(.+)$/);if(!r)throw Error("Invalid data URL format.");let s=r[1],n=r[2],o=Buffer.from(n,"base64"),d=i.file(a);return await d.save(o,{metadata:{contentType:s}}),await d.makePublic(),d.publicUrl()}async function u(e){let a=(0,o.hi)();await (0,n.Y1)(a,e),(0,s.revalidatePath)("/transactions")}async function p(e){let a=(0,o.hi)();await (0,n.og)(a,e),(0,s.revalidatePath)("/transactions")}async function m(e){let a=(0,o.hi)();await (0,n.Ms)(a,e),(0,s.revalidatePath)("/transactions")}async function f(e,a,t,i,r,d){let c=(0,o.hi)();await (0,n.D4)(c,{userId:e,providerId:a,deliveryMethod:t,useCredicora:i,recipientInfo:r||void 0,deliveryAddress:d||void 0}),(0,s.revalidatePath)("/transactions"),(0,s.revalidatePath)("/cart")}async function h(e){let a=(0,o.hi)();await (0,n.ak)(a,e),(0,s.revalidatePath)("/transactions")}async function x(e){let a=(0,o.hi)();await (0,n.id)(a,e),(0,s.revalidatePath)("/transactions")}async function b(e,a,t){let i=t.paymentVoucherUrl;if(t.paymentVoucherUrl&&t.paymentVoucherUrl.startsWith("data:")){let r=(0,o.cr)(),s=`vouchers/${a}/${e}-${Date.now()}`;i=await l(r,s,t.paymentVoucherUrl)}let r=(0,o.hi)();await (0,n.NR)(r,{transactionId:e,userId:a,paymentDetails:{...t,paymentVoucherUrl:i}}),(0,s.revalidatePath)("/transactions"),(0,s.revalidatePath)("/payment")}async function v(e){let a=(0,o.hi)();await (0,n.CB)(a,e),(0,s.revalidatePath)("/transactions")}async function g(e){let a=(0,o.hi)();await (0,n.j4)(a,e),(0,s.revalidatePath)("/transactions")}async function y(e){let a=(0,o.hi)();await (0,n.QJ)(a,e),(0,s.revalidatePath)("/transactions")}async function w(e){let a=(0,o.hi)();await (0,n.kj)(a,e),(0,s.revalidatePath)("/transactions")}async function j(e){let a=(0,o.hi)(),t=await (0,n.km)(a,{sessionId:e});return(0,s.revalidatePath)("/transactions"),t}async function I(e){let a=(0,o.hi)();return await (0,n.WA)(a,e)}async function N(e,a){let t=(0,o.hi)(),i=await (0,n.qM)(t,{type:"Sistema",status:"Finalizado - Pendiente de Pago",date:new Date().toISOString(),amount:a.price,clientId:e,providerId:"corabo-admin",participantIds:[e,"corabo-admin"],details:{system:`Compra de regalo: ${a.name}`}});return{paymentUrl:`/payment?commitmentId=${i.id}`}}async function P(e){let a=(0,o.hi)();await a.collection("transactions").doc(e).update({status:"Resuelto"}),(0,s.revalidatePath)("/admin")}async function C(e){let a=(0,o.hi)();await a.collection("transactions").doc(e).update({status:"Incobrable"}),(0,s.revalidatePath)("/admin")}[n,o]=c.then?(await c)():c,(0,d.h)([u,p,m,f,h,x,b,v,g,y,w,j,I,N,P,C]),(0,r.j)("159b2fe09127c5bd3daae38e767205dac7d77cab",u),(0,r.j)("def0aa2b8b4ea6c1e06bbb61a801cf9d7db8217f",p),(0,r.j)("eb08ed1ec3e7601b9657c9104751f4cd16e193bf",m),(0,r.j)("7ffaf3cdca4e8bfa88f07bb6fd67ea5a48706373",f),(0,r.j)("4ba72153081d80db8eb0c1d6fd08c42be123a593",h),(0,r.j)("862bc6f0e45e133730d43c165242b63549e8d6ef",x),(0,r.j)("325dc1f7f655917be2c16c7e98b2d1937c654384",b),(0,r.j)("627bffb6d24f861e176920b8fac8e87d263c0e39",v),(0,r.j)("b436050b9f6ea9d78925f00d451d2f9caa7fe276",g),(0,r.j)("87e287519cb1cf3861ceab331f0ef39f9649c540",y),(0,r.j)("683f24dbc04449f1048d22803857dd2e140d0626",w),(0,r.j)("2b06f3a3c6bc1d56ad79fe0105b23730fc59fc3c",j),(0,r.j)("68e7dcb5930b2f1144a87059acc32941a426a6ba",I),(0,r.j)("ffe6118251cbf259f053f1ac31bb9bf4df292901",N),(0,r.j)("2f895fe1b49f74d13cc6d7f8c94cf7264d1a290d",P),(0,r.j)("97ae364a62d4df2288a07a620d912ce0ac96b58c",C),i()}catch(e){i(e)}})},70848:(e,a,t)=>{"use strict";t.a(e,async(e,i)=>{try{t.r(a),t.d(a,{activatePromotion:()=>y,addContactToUser:()=>w,becomeProvider:()=>I,checkIdUniqueness:()=>x,completeInitialSetup:()=>b,deactivateTransactions:()=>g,removeContactFromUser:()=>j,subscribeUser:()=>v,toggleGps:()=>h,updateFullProfile:()=>f,updateUser:()=>p,updateUserLocation:()=>N,updateUserProfileImage:()=>m});var r=t(27745);t(26461);var s=t(30207),n=t(30266),o=t(90085),d=t(9698),c=t(50604),l=t(85723),u=e([n,o,c]);async function p(e,a){let t=(0,n.hi)();await o.Oe(t,{userId:e,updates:a}),(0,s.revalidatePath)("/profile"),(0,s.revalidatePath)(`/companies/${e}`)}async function m(e,a){let t=(0,n.hi)();await o.Oe(t,{userId:e,updates:{profileImage:a}}),(0,s.revalidatePath)("/profile"),(0,s.revalidatePath)(`/companies/${e}`)}async function f(e,a,t){let i=(0,n.hi)(),r=i.collection("users").doc(e),c=await r.get(),l="provider"===t&&c.exists&&c.data()?.type==="client";await o.Oe(i,{userId:e,updates:{profileSetupData:a,isTransactionsActive:!0,type:t,verified:!0}}),l&&await (0,d.rA)(i,{userId:e}),(0,s.revalidatePath)("/profile"),(0,s.revalidatePath)(`/companies/${e}`)}async function h(e){let a=(0,n.hi)();await o.$w(a,{userId:e}),(0,s.revalidatePath)("/"),(0,s.revalidatePath)("/profile"),(0,s.revalidatePath)(`/companies/${e}`)}async function x(e){let a=(0,n.hi)();if(!e.idNumber||!e.country)return!0;let t=a.collection("users").where("idNumber","==",e.idNumber).where("country","==",e.country),i=await t.get();return!!i.empty||i.docs[0].id===e.currentUserId}async function b(e,a){let t=(0,n.hi)(),i=await o.uM(t,e,a);return(0,s.revalidatePath)("/"),i}async function v(e,a,t){let i=(0,n.hi)();await (0,c.qM)(i,{type:"Sistema",status:"Pago Enviado - Esperando Confirmaci\xf3n",date:new Date().toISOString(),amount:t,clientId:e,providerId:"corabo-admin",participantIds:[e,"corabo-admin"],details:{system:`Suscripci\xf3n a ${a}`}}),(0,s.revalidatePath)("/transactions")}async function g(e){let a=(0,n.hi)();await o.Oe(a,{userId:e,updates:{isTransactionsActive:!1}}),(0,s.revalidatePath)("/transactions/settings"),(0,s.revalidatePath)("/profile")}async function y(e,a){let t=(0,n.hi)(),i=new Date;i.setHours(i.getHours()+24),await o.Oe(t,{userId:e,updates:{promotion:{text:a.promotionText,expires:i.toISOString(),publicationId:a.imageId}}}),await (0,c.qM)(t,{type:"Sistema",status:"Pago Enviado - Esperando Confirmaci\xf3n",date:new Date().toISOString(),amount:a.cost,clientId:e,providerId:"corabo-admin",participantIds:[e,"corabo-admin"],details:{system:`Activaci\xf3n de promoci\xf3n 'Emprende por Hoy'`}}),(0,s.revalidatePath)("/profile"),(0,s.revalidatePath)(`/companies/${e}`)}async function w(e,a){let t=(0,n.hi)();await o.QH(t,{userId:e,contactId:a}),(0,s.revalidatePath)(`/companies/${a}`),(0,s.revalidatePath)("/contacts")}async function j(e,a){let t=(0,n.hi)();await o.av(t,{userId:e,contactId:a}),(0,s.revalidatePath)("/contacts")}async function I(e,a){let t=(0,n.hi)();await o.z$(t,{userId:e,profileData:a}),(0,s.revalidatePath)("/profile")}async function N(e,a){let t=(0,n.hi)();await o.Oe(t,{userId:e,updates:{"location.coordinates":a,"location.lastUpdated":new Date().toISOString()}})}[n,o,c]=u.then?(await u)():u,(0,l.h)([p,m,f,h,x,b,v,g,y,w,j,I,N]),(0,r.j)("5490e0fd1c242a5eef82e0a3ff2c7cb530d9e533",p),(0,r.j)("88599a77cbf14a811bcc0d4db954c292e07a6abc",m),(0,r.j)("86ad7b8d8be30d4d4c2808f5bbf0e5d8e49ba32a",f),(0,r.j)("d3b29fd6112ff6850dece7a05d126c764332b184",h),(0,r.j)("9011e4229b8124357687ad18fd8d6620369c6645",x),(0,r.j)("b6340bdf49ffb4d7a7d472365ccd4c5bb696fb65",b),(0,r.j)("9dbd3aa17f1b0d765a1019942ecab992f84521ef",v),(0,r.j)("e86019e14c4860bd9cb7e35ea4e6b273f001c319",g),(0,r.j)("f1a5672380f0c97ae05054afe728fa52f5b897d1",y),(0,r.j)("453545b1b78662b98891491ec49e72197e0e6598",w),(0,r.j)("7f3879fcde338c8e9e9f8b6e19e6e4358bb243bd",j),(0,r.j)("6a3ff619f9bdd51def8f22d0234148dfd9e9330e",I),(0,r.j)("f2adee7cf4f2f8b5b2ceee6347d65222ab445eb7",N),i()}catch(e){i(e)}})},79739:(e,a,t)=>{"use strict";t.r(a),t.d(a,{allCategories:()=>r,automotiveServicesOptions:()=>s,beautyTradesOptions:()=>n,countries:()=>d,credicoraCompanyLevels:()=>u,credicoraLevels:()=>l,gifts:()=>c,homeRepairTradesOptions:()=>o,venezuelanBanks:()=>i});let i=["Banco de Venezuela","Banesco","Banco Mercantil","Banco Provincial","BOD","BNC","Banco del Tesoro","Bicentenario Banco Universal","Banplus","Bancaribe","Banco Sofitasa","Banco Plaza","100% Banco","Mi Banco","Bancrecer","Otros"],r=[{id:"Hogar y Reparaciones",name:"Hogar y Reparaciones",description:"Plomer\xeda, electricidad, jardiner\xeda..."},{id:"Tecnolog\xeda y Soporte",name:"Tecnolog\xeda y Soporte",description:"Reparaci\xf3n de PC, redes, dise\xf1o..."},{id:"Automotriz y Repuestos",name:"Automotriz y Repuestos",description:"Mec\xe1nica, repuestos, latoner\xeda..."},{id:"Alimentos y Restaurantes",name:"Alimentos y Restaurantes",description:"Restaurantes, catering, mercados..."},{id:"Transporte y Asistencia",name:"Transporte y Asistencia",description:"Gr\xfaas, ambulancias, fletes, mudanzas..."},{id:"Salud y Bienestar",name:"Salud y Bienestar",description:"Fisioterapia, nutrici\xf3n, entrenadores..."},{id:"Turismo y Estad\xedas",name:"Turismo y Estad\xedas",description:"Hoteles, posadas, tours, paquetes..."},{id:"Educaci\xf3n",name:"Educaci\xf3n",description:"Tutor\xedas, clases, cursos..."},{id:"Eventos",name:"Eventos",description:"Fotograf\xeda, catering, m\xfasica..."},{id:"Belleza",name:"Belleza",description:"Peluquer\xeda, maquillaje, spa..."}],s=["Mec\xe1nica General","Latoner\xeda y Pintura","Cauchera","Electroauto","Venta de Repuestos","Aire Acondicionado"],n=["Manicure","Pedicure","Estilismo","Maquillaje","Depilaci\xf3n","Masajes"],o=["Plomer\xeda","Electricidad","Alba\xf1iler\xeda","Carpinter\xeda","Jardiner\xeda","Pintura"],d=[{code:"VE",name:"Venezuela",idLabel:"C\xe9dula de Identidad",companyIdLabel:"RIF",ivaRate:.16},{code:"CO",name:"Colombia",idLabel:"C\xe9dula de Ciudadan\xeda",companyIdLabel:"NIT",ivaRate:.19},{code:"CL",name:"Chile",idLabel:"RUT / DNI",companyIdLabel:"RUT",ivaRate:.19},{code:"ES",name:"Espa\xf1a",idLabel:"DNI / NIE",companyIdLabel:"NIF",ivaRate:.21},{code:"MX",name:"M\xe9xico",idLabel:"CURP",companyIdLabel:"RFC",ivaRate:.16}],c=[{id:"rose",name:"Rosa",price:1,credits:100,icon:"https://i.postimg.cc/SNqD5pqW/avatar-placeholder.png"},{id:"diamond",name:"Diamante",price:5,credits:500,icon:"https://i.postimg.cc/SNqD5pqW/avatar-placeholder.png"},{id:"crown",name:"Corona",price:10,credits:1e3,icon:"https://i.postimg.cc/SNqD5pqW/avatar-placeholder.png"}],l={1:{level:1,name:"Alfa",color:"210 90% 54%",creditLimit:150,initialPaymentPercentage:.6,installments:3,transactionsForNextLevel:25},2:{level:2,name:"Delta",color:"262 84% 58%",creditLimit:200,initialPaymentPercentage:.5,installments:6,transactionsForNextLevel:40},3:{level:3,name:"Lambda",color:"322 84% 58%",creditLimit:300,initialPaymentPercentage:.4,installments:9,transactionsForNextLevel:60},4:{level:4,name:"Sigma",color:"25 95% 53%",creditLimit:600,initialPaymentPercentage:.3,installments:12,transactionsForNextLevel:80},5:{level:5,name:"Omega",color:"45 93% 47%",creditLimit:1e3,initialPaymentPercentage:0,installments:18,transactionsForNextLevel:150}},u={1:{level:1,name:"Bronce",color:"27 54% 33%",creditLimit:500,initialPaymentPercentage:.5,installments:4,transactionsForNextLevel:50},2:{level:2,name:"Plata",color:"220 13% 69%",creditLimit:750,initialPaymentPercentage:.45,installments:8,transactionsForNextLevel:75},3:{level:3,name:"Oro",color:"45 93% 47%",creditLimit:1e3,initialPaymentPercentage:.35,installments:12,transactionsForNextLevel:100},4:{level:4,name:"Platino",color:"220 13% 91%",creditLimit:1500,initialPaymentPercentage:.25,installments:18,transactionsForNextLevel:150},5:{level:5,name:"Diamante",color:"207 90% 54%",creditLimit:2e3,initialPaymentPercentage:.2,installments:24,transactionsForNextLevel:250}}},30266:(e,a,t)=>{"use strict";t.a(e,async(e,i)=>{try{t.d(a,{cr:()=>p,hi:()=>u,yL:()=>l});var r=t(92509),s=t.n(r),n=t(3263),o=t(68116),d=e([n,o]);[n,o]=d.then?(await d)():d;let c=function(){if((0,n.getApps)().length>0)return s().app();if(!process.env.FIREBASE_PRIVATE_KEY_B64)throw Error("The FIREBASE_PRIVATE_KEY_B64 environment variable is not defined.");let e=Buffer.from(process.env.FIREBASE_PRIVATE_KEY_B64,"base64").toString("utf8"),a={type:process.env.FIREBASE_TYPE||"service_account",project_id:process.env.FIREBASE_PROJECT_ID,private_key_id:process.env.FIREBASE_PRIVATE_KEY_ID,private_key:e,client_email:process.env.FIREBASE_CLIENT_EMAIL,client_id:process.env.FIREBASE_CLIENT_ID,auth_uri:process.env.FIREBASE_AUTH_URI,token_uri:process.env.FIREBASE_TOKEN_URI,auth_provider_x509_cert_url:process.env.FIREBASE_AUTH_PROVIDER_X509_CERT_URL,client_x509_cert_url:process.env.FIREBASE_CLIENT_X509_CERT_URL,universe_domain:process.env.UNIVERSE_DOMAIN||"googleapis.com"};try{if(!a.project_id||!a.client_email||!a.private_key)throw Error("Firebase service account details are missing or incomplete in environment variables.");return s().initializeApp({credential:s().credential.cert(a),databaseURL:`https://${a.project_id}.firebaseio.com`,storageBucket:`${a.project_id}.appspot.com`})}catch(e){throw console.error("Firebase Admin Initialization Error:",e),Error(`Failed to initialize Firebase Admin SDK: ${e.message}`)}}(),l=()=>s().auth(c),u=()=>s().firestore(c),p=()=>(0,o.getStorage)(c);i()}catch(e){i(e)}})},43811:(e,a,t)=>{"use strict";function i(e,a,t,i){let r=Math.PI/180*(t-e),s=Math.PI/180*(i-a),n=Math.sin(r/2)*Math.sin(r/2)+Math.cos(Math.PI/180*e)*Math.cos(Math.PI/180*t)*Math.sin(s/2)*Math.sin(s/2);return 2*Math.atan2(Math.sqrt(n),Math.sqrt(1-n))*6371}t.d(a,{x:()=>i})},73881:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>r});var i=t(66621);let r=e=>[{type:"image/x-icon",sizes:"16x16",url:(0,i.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]},5023:()=>{}};