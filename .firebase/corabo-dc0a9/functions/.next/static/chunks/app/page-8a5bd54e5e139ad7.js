(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1931],{12136:function(e,t,r){Promise.resolve().then(r.bind(r,72627))},61178:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(79205).Z)("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]])},49322:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(79205).Z)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},41671:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(79205).Z)("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},87769:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(79205).Z)("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]])},46211:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(79205).Z)("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]])},88997:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(79205).Z)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]])},51817:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(79205).Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},53417:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(79205).Z)("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]])},99397:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(79205).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},69076:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(79205).Z)("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]])},44743:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(79205).Z)("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]])},43745:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(79205).Z)("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]])},72627:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return f}});var n=r(57437),i=r(2265),a=r(70061),s=r(67135),c=r(39493),u=r(69140),o=r(51817),l=r(37691);function d(){let{currentUser:e,searchQuery:t,categoryFilter:r,isLoadingAuth:d}=(0,a.a)(),[f,p]=(0,i.useState)([]),[v,h]=(0,i.useState)(!0),[y,x]=(0,i.useState)(void 0),[m,b]=(0,i.useState)(!0),g=(0,i.useRef)(),k=(0,i.useCallback)(async()=>{if(m&&!v){h(!0);try{let e=await (0,l.GG)({limitNum:5,startAfterDocId:y,searchQuery:t||void 0,categoryFilter:r||void 0});p(t=>[...t,...e.publications]),x(e.lastVisibleDocId),b(!!e.lastVisibleDocId)}catch(e){console.error("Failed to fetch feed:",e)}finally{h(!1)}}},[m,v,y,t,r]);(0,i.useEffect)(()=>{p([]),x(void 0),b(!0),(async()=>{h(!0);try{let e=await (0,l.GG)({limitNum:5,searchQuery:t||void 0,categoryFilter:r||void 0});p(e.publications),x(e.lastVisibleDocId),b(!!e.lastVisibleDocId)}catch(e){console.error("Failed to fetch initial feed:",e)}finally{h(!1)}})()},[t,r]);let j=(0,i.useCallback)(e=>{!v&&(g.current&&g.current.disconnect(),g.current=new IntersectionObserver(e=>{e[0].isIntersecting&&m&&k()}),e&&g.current.observe(e))},[v,m,k]);return d?(0,n.jsx)("main",{className:"flex items-center justify-center min-h-screen",children:(0,n.jsx)(o.Z,{className:"h-12 w-12 animate-spin text-primary"})}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"container py-4 mx-auto max-w-2xl",children:e&&!e.isTransactionsActive&&(0,n.jsx)(s.u,{userType:e.type})}),v&&0===f.length?(0,n.jsx)("div",{className:"space-y-4 container mx-auto max-w-2xl",children:Array.from({length:3}).map((e,t)=>(0,n.jsx)(u.O,{className:"h-[500px] w-full"},t))}):0===f.length?(0,n.jsxs)("div",{className:"text-center text-muted-foreground pt-16",children:[(0,n.jsx)("p",{children:"No se encontraron publicaciones."}),(0,n.jsx)("p",{className:"text-xs",children:"Intenta cambiar tus filtros de b\xfasqueda."})]}):(0,n.jsxs)("div",{className:"space-y-4 container mx-auto max-w-2xl",children:[f.map((e,t)=>{let r=t===f.length-1;return(0,n.jsx)("div",{ref:r?j:null,children:(0,n.jsx)(c.o,{publication:e})},e.id||t)}),v&&(0,n.jsx)("div",{className:"flex justify-center py-4",children:(0,n.jsx)(o.Z,{className:"w-8 h-8 animate-spin text-primary"})})]})]})}function f(){return(0,n.jsx)(d,{})}},67135:function(e,t,r){"use strict";r.d(t,{u:function(){return l}});var n=r(57437),i=r(95937),a=r(12381),s=r(70061),c=r(69076),u=r(49322),o=r(99376);function l(e){let{userType:t}=e,{currentUser:r}=(0,s.a)(),l=(0,o.useRouter)();if(!r)return null;let d=null==r?void 0:r.isPaused,f={client:{title:"\xa1Activa tu registro!",description:"Disfruta de compras seguras y con seguimiento.",buttonText:"Activar ahora"},provider:{title:"\xa1Activa tu registro!",description:"Empieza a recibir pagos y a gestionar tus ingresos de forma segura.",buttonText:"Activar ahora"},repartidor:{title:"\xa1Activa tu registro!",description:"Completa tu perfil para poder aceptar entregas.",buttonText:"Activar ahora"}},{title:p,description:v,buttonText:h}=d?{title:"\xa1Tu cuenta est\xe1 en pausa!",description:"Debido a inactividad, algunas funciones han sido desactivadas. Act\xedvalas de nuevo.",buttonText:"Reactivar Registro"}:f[t]||f.client,y=d?c.Z:u.Z;return(0,n.jsxs)(i.bZ,{children:[(0,n.jsx)(y,{className:"h-4 w-4"}),(0,n.jsx)(i.Cd,{className:"font-semibold",children:p}),(0,n.jsxs)(i.X,{className:"flex justify-between items-center",children:[(0,n.jsx)("span",{children:v}),(0,n.jsxs)(a.z,{variant:"link",size:"sm",onClick:()=>{var e,t;if(r.isPaused){l.push("/transactions/settings");return}if((null===(e=r.profileSetupData)||void 0===e?void 0:e.providerType)==="company"&&!(null===(t=r.profileSetupData)||void 0===t?void 0:t.specialty)){l.push("/profile-setup");return}r.isInitialSetupComplete?"verified"!==r.idVerificationStatus?l.push("/profile-setup/verify-id"):l.push("/transactions/settings"):l.push("/profile-setup")},className:"p-0 h-auto text-current font-bold",children:[h," â†’"]})]})]})}},95937:function(e,t,r){"use strict";r.d(t,{Cd:function(){return o},X:function(){return l},bZ:function(){return u}});var n=r(57437),i=r(2265),a=r(90535),s=r(93448);let c=(0,a.j)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive",warning:"border-amber-500/50 text-amber-700 dark:border-amber-600 dark:text-amber-500 [&>svg]:text-amber-600 dark:[&>svg]:text-amber-500"}},defaultVariants:{variant:"default"}}),u=i.forwardRef((e,t)=>{let{className:r,variant:i,...a}=e;return(0,n.jsx)("div",{ref:t,role:"alert",className:(0,s.cn)(c({variant:i}),r),...a})});u.displayName="Alert";let o=i.forwardRef((e,t)=>{let{className:r,...i}=e;return(0,n.jsx)("h5",{ref:t,className:(0,s.cn)("mb-1 font-medium leading-none tracking-tight",r),...i})});o.displayName="AlertTitle";let l=i.forwardRef((e,t)=>{let{className:r,...i}=e;return(0,n.jsx)("div",{ref:t,className:(0,s.cn)("text-sm [&_p]:leading-relaxed",r),...i})});l.displayName="AlertDescription"},37691:function(e,t,r){"use strict";r.d(t,{GG:function(){return i},Ue:function(){return c},cx:function(){return s},k2:function(){return a}}),r(83079);var n=r(12119),i=(0,n.$)("0c616a113b8092b2a091f6813b802813896764ba"),a=(0,n.$)("3114460915aded337a7fc8e5774ab0295592c367"),s=(0,n.$)("34617f29a6edb4933278e0d4a548a4261dcfec11"),c=(0,n.$)("3b050d596566f18a8c4e29705c8096fceb7da2b3")},62484:function(e,t,r){"use strict";function n(e,[t,r]){return Math.min(r,Math.max(t,e))}r.d(t,{u:function(){return n}})},29114:function(e,t,r){"use strict";r.d(t,{gm:function(){return a}});var n=r(2265);r(57437);var i=n.createContext(void 0);function a(e){let t=n.useContext(i);return e||t||"ltr"}},6394:function(e,t,r){"use strict";r.d(t,{f:function(){return c}});var n=r(2265),i=r(66840),a=r(57437),s=n.forwardRef((e,t)=>(0,a.jsx)(i.WV.label,{...e,ref:t,onMouseDown:t=>{var r;t.target.closest("button, input, select, textarea")||(null===(r=e.onMouseDown)||void 0===r||r.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));s.displayName="Label";var c=s},55156:function(e,t,r){"use strict";r.d(t,{f:function(){return o}});var n=r(2265),i=r(66840),a=r(57437),s="horizontal",c=["horizontal","vertical"],u=n.forwardRef((e,t)=>{let{decorative:r,orientation:n=s,...u}=e,o=c.includes(n)?n:s;return(0,a.jsx)(i.WV.div,{"data-orientation":o,...r?{role:"none"}:{"aria-orientation":"vertical"===o?o:void 0,role:"separator"},...u,ref:t})});u.displayName="Separator";var o=u},50721:function(e,t,r){"use strict";r.d(t,{bU:function(){return w},fC:function(){return j}});var n=r(2265),i=r(6741),a=r(98575),s=r(73966),c=r(80886),u=r(6718),o=r(90420),l=r(66840),d=r(57437),f="Switch",[p,v]=(0,s.b)(f),[h,y]=p(f),x=n.forwardRef((e,t)=>{let{__scopeSwitch:r,name:s,checked:u,defaultChecked:o,required:p,disabled:v,value:y="on",onCheckedChange:x,form:m,...b}=e,[j,w]=n.useState(null),Z=(0,a.e)(t,e=>w(e)),N=n.useRef(!1),A=!j||m||!!j.closest("form"),[M,C]=(0,c.T)({prop:u,defaultProp:null!=o&&o,onChange:x,caller:f});return(0,d.jsxs)(h,{scope:r,checked:M,disabled:v,children:[(0,d.jsx)(l.WV.button,{type:"button",role:"switch","aria-checked":M,"aria-required":p,"data-state":k(M),"data-disabled":v?"":void 0,disabled:v,value:y,...b,ref:Z,onClick:(0,i.Mj)(e.onClick,e=>{C(e=>!e),A&&(N.current=e.isPropagationStopped(),N.current||e.stopPropagation())})}),A&&(0,d.jsx)(g,{control:j,bubbles:!N.current,name:s,value:y,checked:M,required:p,disabled:v,form:m,style:{transform:"translateX(-100%)"}})]})});x.displayName=f;var m="SwitchThumb",b=n.forwardRef((e,t)=>{let{__scopeSwitch:r,...n}=e,i=y(m,r);return(0,d.jsx)(l.WV.span,{"data-state":k(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:t})});b.displayName=m;var g=n.forwardRef((e,t)=>{let{__scopeSwitch:r,control:i,checked:s,bubbles:c=!0,...l}=e,f=n.useRef(null),p=(0,a.e)(f,t),v=(0,u.D)(s),h=(0,o.t)(i);return n.useEffect(()=>{let e=f.current;if(!e)return;let t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(v!==s&&t){let r=new Event("click",{bubbles:c});t.call(e,s),e.dispatchEvent(r)}},[v,s,c]),(0,d.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s,...l,tabIndex:-1,ref:p,style:{...l.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function k(e){return e?"checked":"unchecked"}g.displayName="SwitchBubbleInput";var j=x,w=b},6718:function(e,t,r){"use strict";r.d(t,{D:function(){return i}});var n=r(2265);function i(e){let t=n.useRef({value:e,previous:e});return n.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}},90420:function(e,t,r){"use strict";r.d(t,{t:function(){return a}});var n=r(2265),i=r(61188);function a(e){let[t,r]=n.useState(void 0);return(0,i.b)(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});let t=new ResizeObserver(t=>{let n,i;if(!Array.isArray(t)||!t.length)return;let a=t[0];if("borderBoxSize"in a){let e=a.borderBoxSize,t=Array.isArray(e)?e[0]:e;n=t.inlineSize,i=t.blockSize}else n=e.offsetWidth,i=e.offsetHeight;r({width:n,height:i})});return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}r(void 0)},[e]),t}}},function(e){e.O(0,[3609,9015,2522,2939,7514,3145,7648,9027,9939,1272,803,729,1911,2971,2117,1744],function(){return e(e.s=12136)}),_N_E=e.O()}]);