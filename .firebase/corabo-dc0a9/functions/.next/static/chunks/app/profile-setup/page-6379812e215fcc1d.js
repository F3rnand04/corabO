(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5583],{47146:function(e,a,t){Promise.resolve().then(t.bind(t,69564))},89337:function(e,a,t){"use strict";t.d(a,{Z:function(){return r}});let r=(0,t(79205).Z)("BadgeCheck",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},14760:function(e,a,t){"use strict";t.d(a,{Z:function(){return r}});let r=(0,t(79205).Z)("BrainCircuit",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]])},5005:function(e,a,t){"use strict";t.d(a,{Z:function(){return r}});let r=(0,t(79205).Z)("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]])},57662:function(e,a,t){"use strict";t.d(a,{Z:function(){return r}});let r=(0,t(79205).Z)("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]])},92451:function(e,a,t){"use strict";t.d(a,{Z:function(){return r}});let r=(0,t(79205).Z)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},48736:function(e,a,t){"use strict";t.d(a,{Z:function(){return r}});let r=(0,t(79205).Z)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},99637:function(e,a,t){"use strict";t.d(a,{Z:function(){return r}});let r=(0,t(79205).Z)("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]])},98335:function(e,a,t){"use strict";t.d(a,{Z:function(){return r}});let r=(0,t(79205).Z)("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]])},44794:function(e,a,t){"use strict";t.d(a,{Z:function(){return r}});let r=(0,t(79205).Z)("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]])},13041:function(e,a,t){"use strict";t.d(a,{Z:function(){return r}});let r=(0,t(79205).Z)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]])},40292:function(e,a,t){"use strict";t.d(a,{Z:function(){return r}});let r=(0,t(79205).Z)("Scissors",[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]])},84286:function(e,a,t){"use strict";t.d(a,{Z:function(){return r}});let r=(0,t(79205).Z)("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},95337:function(e,a,t){"use strict";t.d(a,{Z:function(){return r}});let r=(0,t(79205).Z)("Stethoscope",[["path",{d:"M4.8 2.3A.3.3 0 1 0 5 2H4a2 2 0 0 0-2 2v5a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6V4a2 2 0 0 0-2-2h-1a.2.2 0 1 0 .3.3",key:"1jd90r"}],["path",{d:"M8 15v1a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6v-4",key:"126ukv"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]])},40340:function(e,a,t){"use strict";t.d(a,{Z:function(){return r}});let r=(0,t(79205).Z)("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]])},92369:function(e,a,t){"use strict";t.d(a,{Z:function(){return r}});let r=(0,t(79205).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},38553:function(e,a,t){"use strict";t.d(a,{Z:function(){return r}});let r=(0,t(79205).Z)("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"1ogz0v"}]])},29525:function(e,a,t){"use strict";t.d(a,{Z:function(){return r}});let r=(0,t(79205).Z)("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]])},32489:function(e,a,t){"use strict";t.d(a,{Z:function(){return r}});let r=(0,t(79205).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},69564:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return S}});var r=t(57437),i=t(2265),n=t(70061),s=t(12381),l=t(51817),c=t(92451),d=t(23340),u=t(30654),o=t(99376),h=t(3269),p=t(65477),m=t(27715),y=t(79820),f=t(40279),v=t(75060),x=t(92369),k=t(84286),j=t(13041),Z=t(30401);t(83079);var g=(0,t(12119).$)("f18ed4e21f8fc8a1abc7a8a47eda919c237864a7"),N=t(33145);function b(e){var a,t,n,c,d,u;let{formData:o,onUpdate:h,onNext:p}=e,[m,b]=(0,i.useState)(""),[M,w]=(0,i.useState)(!1),[C,R]=(0,i.useState)((null===(a=o.legalRepresentative)||void 0===a?void 0:a.idNumber)||""),S=(e,a)=>{h({legalRepresentative:{...o.legalRepresentative||{name:"",idNumber:""},[e]:a}}),"idNumber"===e&&R(a)};(0,i.useEffect)(()=>{(async()=>{if(C){w(!0);try{let e=await g(C);b(e)}catch(e){console.error("Failed to generate QR Code",e)}finally{w(!1)}}else b("")})()},[C]);let A=(null===(t=o.legalRepresentative)||void 0===t?void 0:t.name)&&(null===(n=o.legalRepresentative)||void 0===n?void 0:n.idNumber);return(0,r.jsxs)(y.Zb,{children:[(0,r.jsxs)(y.Ol,{children:[(0,r.jsx)(y.ll,{children:"Paso 3: Informaci\xf3n Legal"}),(0,r.jsx)(y.SZ,{children:"Proporciona los datos del representante legal de la empresa. Ser\xe1n utilizados para la facturaci\xf3n y validaci\xf3n."})]}),(0,r.jsxs)(y.aY,{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)(v._,{htmlFor:"rep-name",className:"flex items-center gap-2",children:[(0,r.jsx)(x.Z,{className:"w-4 h-4"})," Nombre Completo del Representante"]}),(0,r.jsx)(f.I,{id:"rep-name",placeholder:"Nombre y Apellido",value:(null===(c=o.legalRepresentative)||void 0===c?void 0:c.name)||"",onChange:e=>S("name",e.target.value)})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)(v._,{htmlFor:"rep-id",className:"flex items-center gap-2",children:[(0,r.jsx)(k.Z,{className:"w-4 h-4"})," C\xe9dula o ID del Representante"]}),(0,r.jsx)(f.I,{id:"rep-id",placeholder:"V-12345678",value:(null===(d=o.legalRepresentative)||void 0===d?void 0:d.idNumber)||"",onChange:e=>S("idNumber",e.target.value)})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)(v._,{htmlFor:"rep-phone",className:"flex items-center gap-2",children:[(0,r.jsx)(j.Z,{className:"w-4 h-4"})," Tel\xe9fono del Representante"]}),(0,r.jsx)(f.I,{id:"rep-phone",placeholder:"0412-1234567",value:(null===(u=o.legalRepresentative)||void 0===u?void 0:u.phone)||"",onChange:e=>S("phone",e.target.value)})]}),(M||m)&&(0,r.jsxs)("div",{className:"space-y-2 text-center",children:[(0,r.jsx)(v._,{children:"C\xf3digo QR Fiscal (RIF)"}),(0,r.jsx)("div",{className:"p-4 bg-muted rounded-md inline-block",children:M?(0,r.jsx)("div",{className:"w-32 h-32 flex items-center justify-center",children:(0,r.jsx)(l.Z,{className:"animate-spin"})}):m&&(0,r.jsx)(N.default,{src:m,alt:"QR Code",width:128,height:128})})]}),(0,r.jsxs)(s.z,{onClick:p,className:"w-full",disabled:!A,children:[(0,r.jsx)(Z.Z,{className:"mr-2 h-4 w-4"}),"Guardar y Continuar"]})]})]})}var M=t(31593),w=t(69174);let C=e=>{let{label:a,value:t}=e;return!t||Array.isArray(t)&&0===t.length?null:(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsx)("p",{className:"text-sm font-medium leading-none text-muted-foreground",children:a}),Array.isArray(t)?(0,r.jsx)("div",{className:"flex flex-wrap gap-1",children:t.map(e=>(0,r.jsx)(w.C,{variant:"secondary",children:e},e))}):(0,r.jsx)("p",{className:"text-base font-semibold text-foreground",children:t})]})};function R(e){var a,t;let{formData:i,onSubmit:n,isSubmitting:c}=e;return(0,r.jsxs)(y.Zb,{children:[(0,r.jsxs)(y.Ol,{children:[(0,r.jsx)(y.ll,{children:"Paso 4: Revisi\xf3n Final"}),(0,r.jsx)(y.SZ,{children:"Revisa que toda la informaci\xf3n de tu empresa sea correcta. Al confirmar, tu perfil de proveedor se activar\xe1."})]}),(0,r.jsxs)(y.aY,{className:"space-y-4",children:[(0,r.jsx)(C,{label:"Raz\xf3n Social",value:i.username}),(0,r.jsx)(C,{label:"Sitio Web",value:i.website}),(0,r.jsx)(C,{label:"Especialidad",value:i.specialty}),(0,r.jsx)(M.Z,{}),(0,r.jsx)(C,{label:"Ubicaci\xf3n",value:i.location}),(0,r.jsx)(C,{label:"Radio de Servicio",value:"".concat(i.serviceRadius||"N/A"," km")}),(0,r.jsx)(M.Z,{}),(0,r.jsx)(C,{label:"Nombre Representante Legal",value:null===(a=i.legalRepresentative)||void 0===a?void 0:a.name}),(0,r.jsx)(C,{label:"C\xe9dula Representante Legal",value:null===(t=i.legalRepresentative)||void 0===t?void 0:t.idNumber})]}),(0,r.jsx)(y.eW,{children:(0,r.jsxs)(s.z,{onClick:n,className:"w-full",disabled:c,children:[c?(0,r.jsx)(l.Z,{className:"mr-2 h-4 w-4 animate-spin"}):(0,r.jsx)(Z.Z,{className:"mr-2 h-4 w-4"}),"Confirmar y Activar Perfil"]})})]})}function S(){let{currentUser:e,firebaseUser:a,setCurrentUser:t}=(0,n.a)(),{toast:y}=(0,d.pm)(),f=(0,o.useRouter)(),[v,x]=(0,i.useState)(1),[k,j]=(0,i.useState)(!1);if(!e||!a)return(0,r.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,r.jsx)(l.Z,{className:"h-12 w-12 animate-spin text-primary"})});let Z=e.profileSetupData||{},g=()=>x(e=>Math.min(e+1,4)),N=e=>{t(a=>a?{...a,profileSetupData:{...a.profileSetupData||{},...e}}:null)},M=e=>{N(e),g()},w=async()=>{j(!0);try{await (0,h.zz)(e.id,Z,"provider"),y({title:"\xa1Perfil de Empresa Configurado!",description:"Tus datos han sido guardados."}),f.push("/profile")}catch(e){console.error("Error submitting profile data:",e),y({variant:"destructive",title:"No se pudo guardar la informaci\xf3n."})}finally{j(!1)}},C={...e,uid:a.uid,emailVerified:a.emailVerified};return(0,r.jsxs)("div",{className:"container max-w-2xl mx-auto py-8",children:[(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsxs)(s.z,{variant:"ghost",onClick:()=>{1===v?f.push("/profile"):x(e=>Math.max(e-1,1))},className:"mb-4",children:[(0,r.jsx)(c.Z,{className:"w-4 h-4 mr-2"}),"Atr\xe1s"]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("p",{className:"text-sm font-medium text-muted-foreground",children:["Paso ",v," de ",4]}),(0,r.jsx)(u.k,{current:v,total:4})]})]}),(()=>{switch(v){case 1:return(0,r.jsx)(p.Z,{user:C,onSubmit:M,isSubmitting:k});case 2:return(0,r.jsx)(m.A,{formData:Z,onUpdate:N});case 3:return(0,r.jsx)(b,{formData:Z,onUpdate:N,onNext:g});case 4:return(0,r.jsx)(R,{formData:Z,onSubmit:w,isSubmitting:k});default:return(0,r.jsx)("p",{children:"Paso desconocido."})}})()]})}},30654:function(e,a,t){"use strict";t.d(a,{k:function(){return i}});var r=t(57437);function i(e){let{current:a,total:t}=e;return(0,r.jsx)("div",{className:"w-full bg-muted rounded-full h-2.5",children:(0,r.jsx)("div",{className:"bg-primary h-2.5 rounded-full transition-all duration-500",style:{width:"".concat(a/t*100,"%")}})})}t(2265)}},function(e){e.O(0,[3609,9015,2522,2939,7514,3145,7648,9027,6195,6239,5026,2859,7845,7213,1245,803,7715,5477,2971,2117,1744],function(){return e(e.s=47146)}),_N_E=e.O()}]);