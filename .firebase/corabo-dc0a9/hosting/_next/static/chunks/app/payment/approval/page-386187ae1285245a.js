(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4484],{19802:function(e,t,n){Promise.resolve().then(n.bind(n,47380))},43681:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});let r=(0,n(79205).Z)("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]])},41671:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});let r=(0,n(79205).Z)("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},78867:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});let r=(0,n(79205).Z)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]])},51817:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});let r=(0,n(79205).Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},33388:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});let r=(0,n(79205).Z)("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]])},86595:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});let r=(0,n(79205).Z)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]])},76865:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});let r=(0,n(79205).Z)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},24369:function(e,t,n){"use strict";var r=n(2265),a="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},s=r.useState,i=r.useEffect,c=r.useLayoutEffect,l=r.useDebugValue;function o(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!a(e,n)}catch(e){return!0}}var u="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=s({inst:{value:n,getSnapshot:t}}),a=r[0].inst,u=r[1];return c(function(){a.value=n,a.getSnapshot=t,o(a)&&u({inst:a})},[e,n,t]),i(function(){return o(a)&&u({inst:a}),e(function(){o(a)&&u({inst:a})})},[e]),l(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:u},82558:function(e,t,n){"use strict";e.exports=n(24369)},47380:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}});var r=n(57437),a=n(2265),s=n(99376),i=n(70061),c=n(12381),l=n(79820),o=n(51817),u=n(43681),d=n(41671),f=n(76865),m=n(86595),p=n(33388),x=n(78867),h=n(96246),v=n(23340),b=n(92035),j=n(5978),N=n(84075);function y(){let e=(0,s.useRouter)(),t=(0,s.useSearchParams)(),{currentUser:n,users:y}=(0,i.a)(),{toast:g}=(0,v.pm)(),[w,C]=(0,a.useState)(null),[S,k]=(0,a.useState)(null),[E,$]=(0,a.useState)(!0),Z=null==t?void 0:t.get("sessionId");(0,a.useEffect)(()=>{if(!Z){$(!1);return}let e=(0,j.cf)((0,j.JU)(b.db,"qr_sessions",Z),e=>{let t=e.data();k(t),t&&t.providerId&&!w&&C(y.find(e=>e.id===t.providerId)||null),$(!1)});return()=>e()},[Z,y,w]);let P=async()=>{var e,t;if(!Z||!w||!(null===(t=w.profileSetupData)||void 0===t?void 0:null===(e=t.paymentDetails)||void 0===e?void 0:e.mobile))return;let n=36.5*((null==S?void 0:S.initialPayment)||(null==S?void 0:S.amount)||0),{bankName:r,mobilePaymentPhone:a}=w.profileSetupData.paymentDetails.mobile,s=w.idNumber,i="Pago M\xf3vil\nBanco: ".concat(r,"\nTel\xe9fono: ").concat(a,"\nC\xe9dula/RIF: ").concat(s,"\nMonto: ").concat(n.toFixed(2));navigator.clipboard.writeText(i),g({title:"Datos de Pago Copiados",description:"Realiza el pago desde tu app bancaria."}),await (0,N.qP)(Z)},R=async()=>{Z&&(await (0,N.CR)(Z),e.back())};return(0,r.jsx)("div",{className:"min-h-screen bg-muted/40 flex items-center justify-center p-4",children:(0,r.jsx)(l.Zb,{className:"w-full max-w-sm shadow-2xl",children:(()=>{if(E||!S||!w)return(0,r.jsxs)("div",{className:"text-center space-y-4",children:[(0,r.jsx)(o.Z,{className:"h-12 w-12 mx-auto animate-spin text-primary"}),(0,r.jsx)("p",{className:"font-semibold",children:"Esperando monto del proveedor..."}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Mant\xe9n esta pantalla abierta."})]});if("awaitingPayment"===S.status)return(0,r.jsxs)("div",{className:"text-center space-y-4",children:[(0,r.jsx)(u.Z,{className:"h-12 w-12 mx-auto text-blue-500"}),(0,r.jsx)("p",{className:"font-semibold",children:"Esperando Confirmaci\xf3n del Pago"}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Ya puedes cerrar esta pantalla. Recibir\xe1s una notificaci\xf3n cuando el proveedor confirme la transacci\xf3n."}),(0,r.jsx)(c.z,{onClick:()=>e.push("/"),children:"Volver al Inicio"})]});if("pendingVoucherUpload"===S.status)return(0,r.jsxs)("div",{className:"text-center space-y-4",children:[(0,r.jsx)(d.Z,{className:"h-12 w-12 mx-auto text-green-500"}),(0,r.jsx)("p",{className:"font-semibold",children:"Pago Aprobado"}),(0,r.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Esperando que $",w.name," confirme la transacci\xf3n y cargue la factura."]})]});if("cancelled"===S.status)return(0,r.jsxs)("div",{className:"text-center space-y-4",children:[(0,r.jsx)(f.Z,{className:"h-12 w-12 mx-auto text-destructive"}),(0,r.jsx)("p",{className:"font-semibold",children:"Sesi\xf3n Cancelada"}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"La sesi\xf3n de pago ha sido cancelada."}),(0,r.jsx)(c.z,{onClick:()=>e.push("/"),children:"Volver al Inicio"})]});if("pendingClientApproval"===S.status){var t,n;let{amount:e=0,initialPayment:a=0,financedAmount:s=0,installments:i=0}=S,o=null===(n=w.profileSetupData)||void 0===n?void 0:null===(t=n.paymentDetails)||void 0===t?void 0:t.mobile,u=s>0,d=u?a:e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(l.Ol,{children:[(0,r.jsxs)(h.qE,{className:"w-16 h-16 mx-auto mb-4 border-2 border-primary",children:[(0,r.jsx)(h.F$,{src:w.profileImage}),(0,r.jsx)(h.Q5,{children:w.name.charAt(0)})]}),(0,r.jsxs)(l.ll,{className:"text-center",children:["Confirmar Pago a $",w.name]}),(0,r.jsx)(l.SZ,{className:"text-center",children:u?"Tu compra ser\xe1 financiada con Credicora.":"Realiza el pago y espera la confirmaci\xf3n del proveedor."})]}),(0,r.jsxs)(l.aY,{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Total de la Compra"}),(0,r.jsxs)("p",{className:"text-5xl font-bold tracking-tighter",children:["$",e.toFixed(2)]})]}),u&&(0,r.jsxs)("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg text-sm text-blue-900 space-y-2",children:[(0,r.jsxs)("div",{className:"font-bold text-center flex items-center justify-center gap-2",children:[(0,r.jsx)(m.Z,{className:"w-5 h-5 fill-current"})," Desglose Credicora"]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{children:"Pagas hoy (Inicial):"})," ",(0,r.jsxs)("span",{className:"font-bold",children:["$",a.toFixed(2)]})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{children:"Monto financiado:"})," ",(0,r.jsxs)("span",{className:"font-bold",children:["$",s.toFixed(2)]})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{children:"Pr\xf3ximos pagos:"})," ",(0,r.jsxs)("span",{className:"font-bold",children:["$",i," cuotas"]})]})]}),(null==o?void 0:o.active)&&(0,r.jsxs)("div",{className:"p-4 bg-muted rounded-lg border text-sm space-y-1",children:[(0,r.jsxs)("p",{className:"font-semibold flex items-center gap-2 mb-2",children:[(0,r.jsx)(p.Z,{className:"w-4 h-4"})," Realiza un Pago M\xf3vil por la inicial:"]}),(0,r.jsxs)("div",{className:"flex justify-between mt-1",children:[(0,r.jsx)("span",{children:"Banco:"}),(0,r.jsx)("span",{className:"font-mono",children:o.bankName})]}),(0,r.jsxs)("div",{className:"flex justify-between mt-1",children:[(0,r.jsx)("span",{children:"Tel\xe9fono:"}),(0,r.jsx)("span",{className:"font-mono",children:o.mobilePaymentPhone})]}),(0,r.jsxs)("div",{className:"flex justify-between mt-1",children:[(0,r.jsx)("span",{children:"C\xe9dula/RIF:"}),(0,r.jsx)("span",{className:"font-mono",children:w.idNumber})]}),(0,r.jsxs)("div",{className:"flex justify-between mt-1 font-bold",children:[(0,r.jsx)("span",{children:"Monto:"}),(0,r.jsxs)("span",{className:"font-mono",children:["BS. $",(36.5*d).toFixed(2)]})]})]})]}),(0,r.jsxs)("div",{className:"p-6 pt-0 grid grid-cols-2 gap-4",children:[(0,r.jsx)(c.z,{variant:"outline",onClick:R,children:"Cancelar"}),(0,r.jsxs)(c.z,{onClick:P,disabled:!(null==o?void 0:o.active),children:[(0,r.jsx)(x.Z,{className:"mr-2 h-4 w-4"}),"Copiar y Pagar"]})]})]})}})()})})}function g(){return(0,r.jsx)(a.Suspense,{fallback:(0,r.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,r.jsx)(o.Z,{className:"w-8 h-8 animate-spin"})}),children:(0,r.jsx)(y,{})})}},96246:function(e,t,n){"use strict";n.d(t,{F$:function(){return l},Q5:function(){return o},qE:function(){return c}});var r=n(57437),a=n(2265),s=n(61146),i=n(93448);let c=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)(s.fC,{ref:t,className:(0,i.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",n),...a})});c.displayName=s.fC.displayName;let l=a.forwardRef((e,t)=>{let{className:n,src:a,...c}=e;return(0,r.jsx)(s.Ee,{ref:t,src:a||void 0,className:(0,i.cn)("aspect-square h-full w-full",n),...c})});l.displayName=s.Ee.displayName;let o=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)(s.NY,{ref:t,className:(0,i.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",n),...a})});o.displayName=s.NY.displayName},79820:function(e,t,n){"use strict";n.d(t,{Ol:function(){return c},SZ:function(){return o},Zb:function(){return i},aY:function(){return u},eW:function(){return d},ll:function(){return l}});var r=n(57437),a=n(2265),s=n(93448);let i=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,s.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",n),...a})});i.displayName="Card";let c=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,s.cn)("flex flex-col space-y-1.5 p-6",n),...a})});c.displayName="CardHeader";let l=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)("h3",{ref:t,className:(0,s.cn)("text-2xl font-semibold leading-none tracking-tight",n),...a})});l.displayName="CardTitle";let o=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)("p",{ref:t,className:(0,s.cn)("text-sm text-muted-foreground",n),...a})});o.displayName="CardDescription";let u=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,s.cn)("p-6 pt-0",n),...a})});u.displayName="CardContent";let d=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,s.cn)("flex items-center p-6 pt-0",n),...a})});d.displayName="CardFooter"},84075:function(e,t,n){"use strict";n.d(t,{CR:function(){return u},QN:function(){return s},aN:function(){return o},cN:function(){return a},gC:function(){return m},jh:function(){return c},lB:function(){return l},qP:function(){return d},vw:function(){return f},zt:function(){return i}}),n(83079);var r=n(12119);(0,r.$)("eb0d52356ee11f9376b2c1c7178c295e4383267f");var a=(0,r.$)("7c90561350f1049b4ad793330e3266bbb0adc684"),s=(0,r.$)("7203eca9170cafc1e5b07649f82ea83c01c2068a"),i=(0,r.$)("eb917fd604377cea11e2b6633ee56913f9344ded"),c=(0,r.$)("7bdd40e655a37e43e89e4f11e34931e24c504554"),l=(0,r.$)("c899ec5d95a35b6623f72371f706a90fbb31a7b1"),o=(0,r.$)("0cc468c9ec8056445c64fbc57ca071d6ae3aea6e"),u=(0,r.$)("b038f92efd11b5e31689b4157ab42be1125f7d60"),d=(0,r.$)("a35440148a898087a7b4cdbd666092655c0b2bf0"),f=(0,r.$)("9b0750bf92342c4d9f2be99ab846de6dc6883805"),m=(0,r.$)("3092aa836369a6fcbeab8cbd1a0770080dd6f169")},61146:function(e,t,n){"use strict";n.d(t,{NY:function(){return C},Ee:function(){return w},fC:function(){return g}});var r=n(2265),a=n(73966),s=n(26606),i=n(61188),c=n(66840),l=n(82558);function o(){return()=>{}}var u=n(57437),d="Avatar",[f,m]=(0,a.b)(d),[p,x]=f(d),h=r.forwardRef((e,t)=>{let{__scopeAvatar:n,...a}=e,[s,i]=r.useState("idle");return(0,u.jsx)(p,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:(0,u.jsx)(c.WV.span,{...a,ref:t})})});h.displayName=d;var v="AvatarImage",b=r.forwardRef((e,t)=>{let{__scopeAvatar:n,src:a,onLoadingStatusChange:d=()=>{},...f}=e,m=x(v,n),p=function(e,t){let{referrerPolicy:n,crossOrigin:a}=t,s=(0,l.useSyncExternalStore)(o,()=>!0,()=>!1),c=r.useRef(null),u=s?(c.current||(c.current=new window.Image),c.current):null,[d,f]=r.useState(()=>y(u,e));return(0,i.b)(()=>{f(y(u,e))},[u,e]),(0,i.b)(()=>{let e=e=>()=>{f(e)};if(!u)return;let t=e("loaded"),r=e("error");return u.addEventListener("load",t),u.addEventListener("error",r),n&&(u.referrerPolicy=n),"string"==typeof a&&(u.crossOrigin=a),()=>{u.removeEventListener("load",t),u.removeEventListener("error",r)}},[u,a,n]),d}(a,f),h=(0,s.W)(e=>{d(e),m.onImageLoadingStatusChange(e)});return(0,i.b)(()=>{"idle"!==p&&h(p)},[p,h]),"loaded"===p?(0,u.jsx)(c.WV.img,{...f,ref:t,src:a}):null});b.displayName=v;var j="AvatarFallback",N=r.forwardRef((e,t)=>{let{__scopeAvatar:n,delayMs:a,...s}=e,i=x(j,n),[l,o]=r.useState(void 0===a);return r.useEffect(()=>{if(void 0!==a){let e=window.setTimeout(()=>o(!0),a);return()=>window.clearTimeout(e)}},[a]),l&&"loaded"!==i.imageLoadingStatus?(0,u.jsx)(c.WV.span,{...s,ref:t}):null});function y(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}N.displayName=j;var g=h,w=b,C=N},73966:function(e,t,n){"use strict";n.d(t,{b:function(){return i},k:function(){return s}});var r=n(2265),a=n(57437);function s(e,t){let n=r.createContext(t),s=e=>{let{children:t,...s}=e,i=r.useMemo(()=>s,Object.values(s));return(0,a.jsx)(n.Provider,{value:i,children:t})};return s.displayName=e+"Provider",[s,function(a){let s=r.useContext(n);if(s)return s;if(void 0!==t)return t;throw Error(`\`${a}\` must be used within \`${e}\``)}]}function i(e,t=[]){let n=[],s=()=>{let t=n.map(e=>r.createContext(e));return function(n){let a=n?.[e]||t;return r.useMemo(()=>({[`__scope${e}`]:{...n,[e]:a}}),[n,a])}};return s.scopeName=e,[function(t,s){let i=r.createContext(s),c=n.length;n=[...n,s];let l=t=>{let{scope:n,children:s,...l}=t,o=n?.[e]?.[c]||i,u=r.useMemo(()=>l,Object.values(l));return(0,a.jsx)(o.Provider,{value:u,children:s})};return l.displayName=t+"Provider",[l,function(n,a){let l=a?.[e]?.[c]||i,o=r.useContext(l);if(o)return o;if(void 0!==s)return s;throw Error(`\`${n}\` must be used within \`${t}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let n=()=>{let n=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let a=n.reduce((t,{useScope:n,scopeName:r})=>{let a=n(e)[`__scope${r}`];return{...t,...a}},{});return r.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return n.scopeName=t.scopeName,n}(s,...t)]}},66840:function(e,t,n){"use strict";n.d(t,{WV:function(){return c},jH:function(){return l}});var r=n(2265),a=n(54887),s=n(37053),i=n(57437),c=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{let n=(0,s.Z8)(`Primitive.${t}`),a=r.forwardRef((e,r)=>{let{asChild:a,...s}=e,c=a?n:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,i.jsx)(c,{...s,ref:r})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{});function l(e,t){e&&a.flushSync(()=>e.dispatchEvent(t))}},26606:function(e,t,n){"use strict";n.d(t,{W:function(){return a}});var r=n(2265);function a(e){let t=r.useRef(e);return r.useEffect(()=>{t.current=e}),r.useMemo(()=>(...e)=>t.current?.(...e),[])}},61188:function(e,t,n){"use strict";n.d(t,{b:function(){return a}});var r=n(2265),a=globalThis?.document?r.useLayoutEffect:()=>{}}},function(e){e.O(0,[3609,9015,2522,2939,803,2971,2117,1744],function(){return e(e.s=19802)}),_N_E=e.O()}]);