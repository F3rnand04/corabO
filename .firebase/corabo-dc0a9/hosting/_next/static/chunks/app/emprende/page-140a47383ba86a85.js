(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6495],{89129:function(e,t,r){Promise.resolve().then(r.bind(r,23067))},92451:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(79205).Z)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},91723:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(79205).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},4948:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(79205).Z)("Handshake",[["path",{d:"m11 17 2 2a1 1 0 1 0 3-3",key:"efffak"}],["path",{d:"m14 14 2.5 2.5a1 1 0 1 0 3-3l-3.88-3.88a3 3 0 0 0-4.24 0l-.88.88a1 1 0 1 1-3-3l2.81-2.81a5.79 5.79 0 0 1 7.06-.87l.47.28a2 2 0 0 0 1.42.25L21 4",key:"9pr0kb"}],["path",{d:"m21 3 1 11h-2",key:"1tisrp"}],["path",{d:"M3 3 2 14l6.5 6.5a1 1 0 1 0 3-3",key:"1uvwmv"}],["path",{d:"M3 4h8",key:"1ep09j"}]])},51817:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(79205).Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},17689:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(79205).Z)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]])},11239:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(79205).Z)("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]])},23067:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return Z}});var a=r(57437),n=r(2265),s=r(33145),i=r(99376),l=r(12381),o=r(40279),c=r(75060),d=r(95937),u=r(69174),f=r(91723),m=r(92451),p=r(11239),x=r(17689),v=r(51817),g=r(4948),h=r(93448),b=r(70061),j=r(23340),y=r(23675),N=r(79820),w=r(3269),k=r(33507);let C=["10% OFF","2x1 Hoy","Env\xedo Gratis","Oferta Especial","Nuevo"];function Z(){let{currentUser:e}=(0,b.a)(),{toast:t}=(0,j.pm)(),r=(0,i.useRouter)(),[Z,R]=(0,n.useState)(1),[F,z]=(0,n.useState)(null),[S,P]=(0,n.useState)(null),[_,D]=(0,n.useState)(""),[E,O]=(0,n.useState)(""),[I,M]=(0,n.useState)(""),[A,$]=(0,n.useState)(null),[L,T]=(0,n.useState)(!1),V=e?"provider"===e.type?8:5:0;(0,n.useEffect)(()=>{e&&!e.isTransactionsActive&&(t({variant:"destructive",title:"Registro de Transacciones Inactivo",description:"Debes activar tu registro de transacciones para poder usar esta funci\xf3n."}),r.push("/profile"))},[e,r,t]);let H=null==e?void 0:e.promotion;if(H&&new Date(H.expires)>new Date)return(0,a.jsxs)("div",{className:"container mx-auto max-w-2xl py-8 text-center",children:[(0,a.jsxs)(d.bZ,{variant:"default",className:"bg-green-50 text-green-800 border-green-200",children:[(0,a.jsx)(f.Z,{className:"h-4 w-4 !text-green-800"}),(0,a.jsx)(d.Cd,{children:"\xa1Ya tienes una promoci\xf3n activa!"}),(0,a.jsxs)(d.X,{children:["La oferta ",(0,a.jsx)(u.C,{variant:"secondary",className:"mx-1",children:H.text})," expirar\xe1 pronto. Solo se puede tener una promoci\xf3n activa a la vez."]})]}),(0,a.jsx)(l.z,{onClick:()=>r.push("/profile"),className:"mt-6",children:"Volver al Perfil"})]});let q=async()=>{if(!I||!A||!F||!_.trim()||!e){t({variant:"destructive",title:"Faltan datos",description:"Completa todos los campos para continuar."});return}T(!0);try{let a=await (0,k.Ms)({userId:e.id,description:_,imageDataUri:S,aspectRatio:"square",type:"image"});await (0,w.Gh)(e.id,{imageId:a.id,promotionText:E,cost:V}),t({title:"\xa1Promoci\xf3n Activada!",description:"Tu oferta destacar\xe1 por 24 horas."}),r.push("/profile")}catch(r){let e=r instanceof Error?r.message:"No se pudo activar la promoci\xf3n.";console.error("Error activating promotion:",r),t({variant:"destructive",title:"Error al activar",description:e})}finally{T(!1)}};return(0,a.jsxs)("div",{className:"bg-muted/30 min-h-screen",children:[(0,a.jsx)("header",{className:"sticky top-0 z-30 bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 border-b",children:(0,a.jsx)("div",{className:"container px-4 sm:px-6",children:(0,a.jsxs)("div",{className:"flex h-16 items-center justify-between",children:[(0,a.jsx)(l.z,{variant:"ghost",size:"icon",onClick:()=>1===Z?r.back():R(1),children:(0,a.jsx)(m.Z,{className:"h-6 w-6"})}),(0,a.jsxs)("h1",{className:"text-lg font-semibold flex items-center gap-2",children:[(0,a.jsx)(p.Z,{className:"w-5 h-5 text-yellow-500"}),"Emprende por Hoy"]}),(0,a.jsx)("div",{className:"w-8"})]})})}),(0,a.jsx)("main",{className:"container py-8 max-w-2xl mx-auto",children:(0,a.jsxs)(N.Zb,{className:"shadow-lg",children:[(0,a.jsxs)(N.Ol,{children:[(0,a.jsx)(N.ll,{children:1===Z?"Paso 1: Define tu Oferta":"Paso 2: Realiza el Pago"}),(0,a.jsx)(N.SZ,{children:1===Z?"Describe el producto o servicio que quieres probar en el mercado por 24 horas.":"Para activar tu oferta, realiza el pago de $".concat(V.toFixed(2)," y registra los detalles.")})]}),(0,a.jsxs)(N.aY,{children:[1===Z&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(c._,{htmlFor:"temp-desc",children:"Describe tu oferta"}),(0,a.jsx)(y.g,{id:"temp-desc",placeholder:"Ej: Vendo deliciosas tortas de chocolate por encargo...",value:_,onChange:e=>D(e.target.value)})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(c._,{htmlFor:"temp-img",children:"Sube una imagen de tu producto/servicio"}),(0,a.jsx)(o.I,{id:"temp-img",type:"file",accept:"image/*",onChange:e=>{var t;let r=null===(t=e.target.files)||void 0===t?void 0:t[0];if(r){z(r);let e=new FileReader;e.onloadend=()=>P(e.result),e.readAsDataURL(r)}}})]}),S&&(0,a.jsxs)("div",{className:"relative aspect-video w-full rounded-md overflow-hidden bg-muted",children:[(0,a.jsx)(s.default,{src:S,alt:"Vista previa",fill:!0,style:{objectFit:"cover"},"data-ai-hint":"promotional image"}),E&&(0,a.jsx)(u.C,{variant:"destructive",className:"absolute top-2 left-2 shadow-lg",children:E})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(c._,{htmlFor:"promotion-text",children:"Texto de la Oferta (Opcional)"}),(0,a.jsx)(o.I,{id:"promotion-text",value:E,onChange:e=>O(e.target.value),placeholder:"Ej: HOY 15% OFF",maxLength:15}),(0,a.jsx)("div",{className:"flex flex-wrap gap-1 pt-1",children:C.map(e=>(0,a.jsx)(u.C,{variant:"outline",className:"cursor-pointer hover:bg-muted",onClick:()=>O(e),children:e},e))})]}),(0,a.jsx)(l.z,{onClick:()=>{R(2)},disabled:!F||!_.trim(),className:"w-full",children:"Continuar al Pago"})]}),2===Z&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("p",{className:"text-sm font-semibold text-foreground",children:"Realiza el pago a los siguientes datos:"}),(0,a.jsxs)("div",{className:"text-sm text-muted-foreground bg-muted p-3 rounded-md space-y-1",children:[(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Banco:"})," Banco de Venezuela"]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Cuenta:"})," 0102-0333-30-0000982322"]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Pago M\xf3vil:"})," 0412-8978405"]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"RIF:"})," J-50704220-0"]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("p",{className:"text-sm font-semibold text-foreground",children:"Luego, registra tu pago aqu\xed:"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(c._,{htmlFor:"voucher-upload",children:"Comprobante de Pago"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(l.z,{asChild:!0,variant:"outline",size:"sm",children:(0,a.jsxs)(c._,{htmlFor:"voucher-upload",className:"cursor-pointer",children:[(0,a.jsx)(x.Z,{className:"h-4 w-4 mr-2"}),"Subir"]})}),(0,a.jsx)(o.I,{id:"voucher-upload",type:"file",className:"hidden",onChange:e=>$(e.target.files?e.target.files[0]:null)}),(0,a.jsx)("span",{className:(0,h.cn)("text-sm text-muted-foreground",A&&"text-foreground font-medium"),children:A?A.name:"Ning\xfan archivo..."})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(c._,{htmlFor:"reference",children:"N\xfamero de Referencia"}),(0,a.jsx)(o.I,{id:"reference",placeholder:"00012345",value:I,onChange:e=>M(e.target.value)})]})]}),(0,a.jsxs)(l.z,{onClick:q,disabled:!I||!A||L,className:"w-full",children:[L?(0,a.jsx)(v.Z,{className:"mr-2 h-4 w-4 animate-spin"}):(0,a.jsx)(g.Z,{className:"mr-2 h-4 w-4"}),L?"Procesando...":"Confirmar y Activar"]})]})]})]})})]})}},95937:function(e,t,r){"use strict";r.d(t,{Cd:function(){return c},X:function(){return d},bZ:function(){return o}});var a=r(57437),n=r(2265),s=r(90535),i=r(93448);let l=(0,s.j)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive",warning:"border-amber-500/50 text-amber-700 dark:border-amber-600 dark:text-amber-500 [&>svg]:text-amber-600 dark:[&>svg]:text-amber-500"}},defaultVariants:{variant:"default"}}),o=n.forwardRef((e,t)=>{let{className:r,variant:n,...s}=e;return(0,a.jsx)("div",{ref:t,role:"alert",className:(0,i.cn)(l({variant:n}),r),...s})});o.displayName="Alert";let c=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("h5",{ref:t,className:(0,i.cn)("mb-1 font-medium leading-none tracking-tight",r),...n})});c.displayName="AlertTitle";let d=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,i.cn)("text-sm [&_p]:leading-relaxed",r),...n})});d.displayName="AlertDescription"},69174:function(e,t,r){"use strict";r.d(t,{C:function(){return l}});var a=r(57437);r(2265);var n=r(90535),s=r(93448);let i=(0,n.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function l(e){let{className:t,variant:r,...n}=e;return(0,a.jsx)("div",{className:(0,s.cn)(i({variant:r}),t),...n})}},79820:function(e,t,r){"use strict";r.d(t,{Ol:function(){return l},SZ:function(){return c},Zb:function(){return i},aY:function(){return d},eW:function(){return u},ll:function(){return o}});var a=r(57437),n=r(2265),s=r(93448);let i=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,s.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...n})});i.displayName="Card";let l=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,s.cn)("flex flex-col space-y-1.5 p-6",r),...n})});l.displayName="CardHeader";let o=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("h3",{ref:t,className:(0,s.cn)("text-2xl font-semibold leading-none tracking-tight",r),...n})});o.displayName="CardTitle";let c=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("p",{ref:t,className:(0,s.cn)("text-sm text-muted-foreground",r),...n})});c.displayName="CardDescription";let d=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,s.cn)("p-6 pt-0",r),...n})});d.displayName="CardContent";let u=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,s.cn)("flex items-center p-6 pt-0",r),...n})});u.displayName="CardFooter"},40279:function(e,t,r){"use strict";r.d(t,{I:function(){return i}});var a=r(57437),n=r(2265),s=r(93448);let i=n.forwardRef((e,t)=>{let{className:r,type:n,...i}=e;return(0,a.jsx)("input",{type:n,className:(0,s.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:t,...i})});i.displayName="Input"},75060:function(e,t,r){"use strict";r.d(t,{_:function(){return c}});var a=r(57437),n=r(2265),s=r(6394),i=r(90535),l=r(93448);let o=(0,i.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)(s.f,{ref:t,className:(0,l.cn)(o(),r),...n})});c.displayName=s.f.displayName},23675:function(e,t,r){"use strict";r.d(t,{g:function(){return i}});var a=r(57437),n=r(2265),s=r(93448);let i=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("textarea",{className:(0,s.cn)("flex min-h-[60px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:t,...n})});i.displayName="Textarea"},33507:function(e,t,r){"use strict";r.d(t,{Ck:function(){return l},Fn:function(){return c},Ms:function(){return s},nd:function(){return o},ry:function(){return i},yT:function(){return n}}),r(83079);var a=r(12119),n=(0,a.$)("1e07348ea432662ad092ac802f4a5c62c0b6584a"),s=(0,a.$)("feab6f8fe3596605c3a56acf95b545caf1fe8f10"),i=(0,a.$)("097b808e0ece62513ed2a928f4e9a74b2f5cd67b"),l=(0,a.$)("6970a6d88c9c6363fee8be49e1b820441b76289d"),o=(0,a.$)("911f01a7adbee5e89e0dc6003ef17b4f0ac1f24c"),c=(0,a.$)("d10c5b0c5dc185c0719b914043fd17b76a901250")},6394:function(e,t,r){"use strict";r.d(t,{f:function(){return l}});var a=r(2265),n=r(66840),s=r(57437),i=a.forwardRef((e,t)=>(0,s.jsx)(n.WV.label,{...e,ref:t,onMouseDown:t=>{var r;t.target.closest("button, input, select, textarea")||(null===(r=e.onMouseDown)||void 0===r||r.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));i.displayName="Label";var l=i},66840:function(e,t,r){"use strict";r.d(t,{WV:function(){return l},jH:function(){return o}});var a=r(2265),n=r(54887),s=r(37053),i=r(57437),l=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{let r=(0,s.Z8)(`Primitive.${t}`),n=a.forwardRef((e,a)=>{let{asChild:n,...s}=e,l=n?r:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,i.jsx)(l,{...s,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function o(e,t){e&&n.flushSync(()=>e.dispatchEvent(t))}}},function(e){e.O(0,[3609,9015,2522,2939,3145,803,2971,2117,1744],function(){return e(e.s=89129)}),_N_E=e.O()}]);